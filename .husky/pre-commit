#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Pre-commit checks..."

# 1. Prismaã‚¹ã‚­ãƒ¼ãƒæ•´åˆæ€§ãƒã‚§ãƒƒã‚¯
echo "ğŸ“‹ Checking Prisma schema consistency..."
node scripts/validate-schema-consistency.js

# 2. TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯
echo "ğŸ”§ Checking TypeScript compilation..."
npx tsc --skipLibCheck --noEmit

# 3. Prismaã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆãƒã‚§ãƒƒã‚¯
echo "ğŸ”„ Checking Prisma client generation..."
npx prisma generate --dry-run

echo "âœ… Pre-commit checks completed!"
