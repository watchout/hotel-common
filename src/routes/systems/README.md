# ã‚·ã‚¹ãƒ†ãƒ åˆ¥APIãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
src/routes/systems/
â”œâ”€â”€ saas/       # SaaSã‚·ã‚¹ãƒ†ãƒ ç”¨API
â”œâ”€â”€ pms/        # PMSã‚·ã‚¹ãƒ†ãƒ ç”¨API  
â”œâ”€â”€ member/     # Memberã‚·ã‚¹ãƒ†ãƒ ç”¨API
â”œâ”€â”€ common/     # å…±é€šAPI
â””â”€â”€ index.ts    # çµ±åˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
```

## ğŸ¯ å„ã‚·ã‚¹ãƒ†ãƒ ã®è²¬å‹™

### **SaaS (`systems/saas/`)**
- **å¯¾è±¡**: ãƒ›ãƒ†ãƒ«é‹å–¶ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- **API**:
  - `admin-dashboard.routes.ts` - ç®¡ç†ç”»é¢çµ±è¨ˆ
  - `orders.routes.ts` - æ³¨æ–‡ãƒ»ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç®¡ç†
  - `device-status.routes.ts` - ãƒ‡ãƒã‚¤ã‚¹çŠ¶æ…‹ç›£è¦–
  - `device.routes.ts` - ãƒ‡ãƒã‚¤ã‚¹ç®¡ç†

### **PMS (`systems/pms/`)**
- **å¯¾è±¡**: Property Management System
- **API**:
  - `reservation.routes.ts` - äºˆç´„ç®¡ç†
  - `room.routes.ts` - éƒ¨å±‹ç®¡ç†
- **æ³¨æ„**: ç¾åœ¨ãƒ†ãƒ¼ãƒ–ãƒ«æœªå®Ÿè£…ã®ãŸã‚ä¸€æ™‚ç„¡åŠ¹åŒ–

### **Member (`systems/member/`)**
- **å¯¾è±¡**: ä¼šå“¡ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- **API**:
  - `response-tree.routes.ts` - ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ„ãƒªãƒ¼ç®¡ç†

### **Common (`systems/common/`)**
- **å¯¾è±¡**: å…¨ã‚·ã‚¹ãƒ†ãƒ å…±é€šæ©Ÿèƒ½
- **API**:
  - `auth.routes.ts` - èªè¨¼ãƒ»èªå¯
  - `page.routes.ts` - ãƒšãƒ¼ã‚¸ç®¡ç†

## ğŸ”— APIãƒ‘ã‚¹

**é‡è¦**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®APIãƒ‘ã‚¹ã¯å¤‰æ›´ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
- ä¾‹: `/api/v1/auth/login`, `/api/v1/admin/summary`
- å†…éƒ¨çš„ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç®¡ç†ã®ã¿ã®å¤‰æ›´

## ğŸ› ï¸ é–‹ç™ºã‚¬ã‚¤ãƒ‰

### æ–°ã—ã„APIã®è¿½åŠ 
1. é©åˆ‡ãªã‚·ã‚¹ãƒ†ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’é¸æŠ
2. `*.routes.ts` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
3. `systems/*/index.ts` ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆè¿½åŠ 
4. `systems/index.ts` ã§çµ±åˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
5. `server/integration-server.ts` ã§ãƒ«ãƒ¼ã‚¿ãƒ¼ç™»éŒ²

### ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹
```typescript
// âŒ æ—§ãƒ‘ã‚¹
import { authMiddleware } from '../auth/middleware'

// âœ… æ–°ãƒ‘ã‚¹ï¼ˆ3éšå±¤ä¸ŠãŒã‚‹ï¼‰
import { authMiddleware } from '../../../auth/middleware'
```

## ğŸ“Š ãƒ¡ãƒªãƒƒãƒˆ

1. **ã‚·ã‚¹ãƒ†ãƒ è²¬å‹™ã®æ˜ç¢ºåŒ–**
2. **ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§å‘ä¸Š**
3. **ä¿å®ˆæ€§ã®å‘ä¸Š**
4. **ãƒãƒ¼ãƒ é–‹ç™ºã®åŠ¹ç‡åŒ–**
5. **APIãƒ‘ã‚¹å¤‰æ›´ãªã—ï¼ˆå¾Œæ–¹äº’æ›æ€§ï¼‰**
