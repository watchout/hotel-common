PostgreSQLæ¥ç¶šç¢ºèªå®Œäº†
[32m[2025-09-08T23:01:28.429Z] INFO[0m [hotel-common]: ğŸ¯ hotel-memberéšå±¤æ¨©é™ç®¡ç†çµ±åˆåˆæœŸåŒ–ä¸­...
[32m[2025-09-08T23:01:28.430Z] INFO[0m [hotel-common]: âœ… hotel-memberéšå±¤æ¨©é™ç®¡ç†çµ±åˆåˆæœŸåŒ–å®Œäº†
[32m[2025-09-08T23:01:28.430Z] INFO[0m [hotel-common]: 
ğŸ¯ hotel-memberéšå±¤æ¨©é™ç®¡ç†çµ±åˆç¨¼åƒä¸­

ğŸ“Š å¯¾å¿œæ©Ÿèƒ½:
- éšå±¤JWTèªè¨¼çµ±åˆ
- é¡§å®¢ãƒ‡ãƒ¼ã‚¿éšå±¤ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- ä¼šå“¡ãƒ©ãƒ³ã‚¯ãƒ»ãƒã‚¤ãƒ³ãƒˆéšå±¤ç®¡ç†
- ã‚°ãƒ«ãƒ¼ãƒ—åˆ†ææ¨©é™åˆ¶å¾¡
- FastAPIé€£æºã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

ğŸ”— APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ:
- VERIFY_TOKEN: /api/hotel-member/hierarchy/auth/verify
- CHECK_CUSTOMER_ACCESS: /api/hotel-member/hierarchy/permissions/check-customer-access
- CHECK_MEMBERSHIP_RESTRICTIONS: /api/hotel-member/hierarchy/permissions/check-membership-restrictions
- CHECK_ANALYTICS_ACCESS: /api/hotel-member/hierarchy/permissions/check-analytics-access
- BATCH_CHECK: /api/hotel-member/hierarchy/permissions/batch-check
- GET_ACCESSIBLE_TENANTS: /api/hotel-member/hierarchy/tenants/accessible
- GET_PERMISSIONS_DETAIL: /api/hotel-member/hierarchy/user/permissions-detail
- HEALTH_CHECK: /api/hotel-member/hierarchy/health

ğŸ¯ å®Ÿè£…æˆ¦ç•¥: éƒ¨åˆ†å¯¾å¿œï¼ˆé¡§å®¢ãƒ‡ãƒ¼ã‚¿é‡ç‚¹ï¼‰
âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹: æ—¢å­˜æ©Ÿèƒ½ã¸ã®å½±éŸ¿æœ€å°åŒ–
ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£: éšå±¤åˆ¥ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
    
hotel-memberçµ±åˆåˆæœŸåŒ–å®Œäº†

ğŸ‰ hotel-commonçµ±åˆAPIã‚µãƒ¼ãƒãƒ¼èµ·å‹•å®Œäº†ï¼

ğŸ“Š ã‚µãƒ¼ãƒãƒ¼æƒ…å ±:
- ãƒãƒ¼ãƒˆ: 3400
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: PostgreSQL (hotel_unified_db)
- ç›£è¦–å¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ : 4å€‹

ğŸ”— åˆ©ç”¨å¯èƒ½ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ:
- GET  /health                    - ã‚µãƒ¼ãƒãƒ¼ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
- GET  /api/systems/status        - ã‚·ã‚¹ãƒ†ãƒ æ¥ç¶šçŠ¶æ³
- POST /api/systems/:name/test    - ã‚·ã‚¹ãƒ†ãƒ æ¥ç¶šãƒ†ã‚¹ãƒˆ
- GET  /api/database/test         - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆ
- GET  /api/tenants              - ãƒ†ãƒŠãƒ³ãƒˆä¸€è¦§
- POST /api/auth/validate        - èªè¨¼æ¤œè¨¼
- GET  /api/stats                - ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆ
- GET  /api/v1/campaigns/health  - ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æ©Ÿèƒ½ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
- GET  /api/apps/google-play     - Google Playã‚¢ãƒ—ãƒªä¸€è¦§

ğŸ¯ æ¥ç¶šå¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ :
- ğŸª hotel-saas (http://localhost:3100)
- ğŸ¯ hotel-member-frontend (http://localhost:3200)
- ğŸ¯ hotel-member-backend (http://localhost:8080)
- ğŸ’¼ hotel-pms (http://localhost:3300)
        
2025-09-08T23:01:29.179Z GET /health
2025-09-08T23:01:29.284Z GET /api/v1/admin/operation-logs
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
[32m[2025-09-08T23:01:29.324Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-08T23:01:29.333Z GET /api/v1/admin/operation-logs
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-08T23:01:29.341Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
Performing initial health check...
ğŸ” Health check started (0/4 systems connected)
ğŸ“Š Health check completed (1/4 systems connected)
2025-09-08T23:02:36.829Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:02:36.862Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-08T23:02:37.713Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:02:37.719Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-08T23:02:37.928Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:02:37.933Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-08T23:02:38.155Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:02:38.170Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-08T23:02:46.741Z POST /api/auth/validate
2025-09-08T23:03:27.461Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
2025-09-08T23:03:29.905Z POST /api/auth/validate
2025-09-08T23:03:32.038Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:03:32.046Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-08T23:23:33.939Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-08T23:39:12.371Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:39:12.409Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
ğŸ” Health check started (1/4 systems connected)
2025-09-08T23:40:52.201Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:40:52.206Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-08T23:41:00.923Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:41:00.929Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
ğŸ” Health check started (1/4 systems connected)
2025-09-08T23:42:53.113Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:42:53.116Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-08T23:42:53.356Z POST /api/auth/validate
2025-09-08T23:43:15.839Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:43:15.845Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-08T23:43:16.074Z POST /api/auth/validate
2025-09-08T23:43:38.667Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:43:38.671Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-08T23:43:38.891Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-08T23:46:52.620Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:46:52.651Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-08T23:46:52.854Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-08T23:51:16.436Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:51:16.443Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-08T23:51:16.704Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
2025-09-08T23:53:34.513Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:53:34.556Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-08T23:53:34.718Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-08T23:57:45.596Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:57:45.600Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-08T23:57:45.750Z POST /api/auth/validate
2025-09-08T23:57:48.433Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:57:48.439Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-08T23:57:48.603Z POST /api/auth/validate
2025-09-08T23:58:33.968Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:58:33.971Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-08T23:58:34.223Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
2025-09-08T23:59:02.507Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:59:02.537Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-08T23:59:02.764Z POST /api/auth/validate
2025-09-08T23:59:12.819Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-08T23:59:12.825Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-08T23:59:13.034Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
2025-09-09T00:01:34.437Z GET /health
2025-09-09T00:01:34.444Z GET /health
2025-09-09T00:01:34.452Z GET /api/health
2025-09-09T00:01:34.513Z GET /api/health
2025-09-09T00:01:34.524Z GET /api/v1/health
2025-09-09T00:01:34.533Z GET /api/v1/health
2025-09-09T00:01:34.540Z GET /api/v1/status
2025-09-09T00:01:34.548Z GET /api/v1/status
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T00:17:39.851Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T00:17:39.884Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T00:17:40.096Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
2025-09-09T00:18:29.679Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T00:18:29.685Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T00:18:29.894Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T00:22:55.624Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T00:22:55.668Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T00:22:55.827Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
2025-09-09T00:24:22.495Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T00:24:22.501Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T00:24:22.709Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T00:28:21.382Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T00:28:21.440Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T00:28:21.590Z POST /api/auth/validate
2025-09-09T00:28:35.253Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T00:28:35.257Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T00:28:35.457Z POST /api/auth/validate
2025-09-09T00:29:20.775Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T00:29:20.783Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T00:29:20.990Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
2025-09-09T00:29:56.118Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T00:29:56.122Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T00:29:56.324Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
2025-09-09T00:32:39.194Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T00:32:39.197Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T00:32:39.676Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
2025-09-09T00:35:02.886Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T00:35:02.893Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T00:35:03.101Z POST /api/auth/validate
2025-09-09T00:35:41.259Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T00:35:41.301Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T00:35:41.463Z POST /api/auth/validate
2025-09-09T00:35:44.390Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T00:35:44.395Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T00:35:44.553Z POST /api/auth/validate
2025-09-09T00:36:45.693Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T00:36:45.698Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T00:36:45.871Z POST /api/auth/validate
2025-09-09T00:36:57.737Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T00:36:57.744Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T00:36:57.914Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
2025-09-09T00:37:36.087Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T00:37:36.094Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T00:37:36.303Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T02:18:21.392Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T02:18:21.427Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T02:18:21.648Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
2025-09-09T02:20:50.356Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T02:20:50.363Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T02:20:50.554Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T02:28:49.672Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
2025-09-09T02:29:08.361Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
2025-09-09T02:30:53.079Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T02:30:53.088Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T02:30:53.344Z POST /api/auth/validate
2025-09-09T02:30:53.353Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T02:31:03.400Z POST /api/auth/validate
2025-09-09T02:31:03.417Z POST /api/auth/validate
2025-09-09T02:31:03.421Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T02:31:03.692Z POST /api/auth/validate
2025-09-09T02:31:03.698Z POST /api/auth/validate
2025-09-09T02:31:03.712Z POST /api/auth/validate
2025-09-09T02:31:03.718Z POST /api/auth/validate
2025-09-09T02:31:03.719Z GET /api/v1/admin/devices/count
2025-09-09T02:31:03.723Z GET /api/v1/admin/orders
2025-09-09T02:31:03.726Z GET /api/v1/admin/summary
2025-09-09T02:31:03.730Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType", "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType", "public"."device_rooms"."status" OFFSET $2
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
2025-09-09T02:31:12.466Z POST /api/auth/validate
2025-09-09T02:31:12.479Z POST /api/auth/validate
2025-09-09T02:31:12.483Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T02:31:12.647Z POST /api/auth/validate
2025-09-09T02:31:12.650Z GET /api/v1/admin/summary
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
2025-09-09T02:31:12.653Z POST /api/auth/validate
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
2025-09-09T02:31:12.664Z POST /api/auth/validate
2025-09-09T02:31:12.665Z GET /api/v1/admin/orders
2025-09-09T02:31:12.666Z POST /api/auth/validate
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
2025-09-09T02:31:12.667Z GET /api/v1/admin/devices/count
2025-09-09T02:31:12.668Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType", "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType", "public"."device_rooms"."status" OFFSET $2
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
ğŸ” Health check started (1/4 systems connected)
2025-09-09T02:31:34.167Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T02:31:34.175Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T02:31:34.370Z POST /api/auth/validate
2025-09-09T02:31:34.372Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T02:31:38.090Z POST /api/auth/validate
2025-09-09T02:31:38.092Z POST /api/auth/validate
2025-09-09T02:31:38.094Z POST /api/auth/validate
2025-09-09T02:31:38.094Z GET /api/v1/admin/devices/count
2025-09-09T02:31:38.095Z POST /api/auth/validate
2025-09-09T02:31:38.097Z GET /api/v1/admin/orders
2025-09-09T02:31:38.098Z GET /api/v1/admin/summary
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType", "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType", "public"."device_rooms"."status" OFFSET $2
2025-09-09T02:31:38.099Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT 1
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
2025-09-09T02:31:50.394Z POST /api/auth/validate
2025-09-09T02:31:50.394Z POST /api/auth/validate
2025-09-09T02:31:50.395Z POST /api/auth/validate
2025-09-09T02:31:50.408Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T02:31:50.412Z POST /api/auth/validate
2025-09-09T02:31:50.413Z GET /api/v1/admin/orders
2025-09-09T02:31:50.414Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T02:31:50.416Z GET /api/v1/admin/front-desk/accounting
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-09T02:31:50.423Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T02:31:50.424Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT "public"."transactions"."id", "public"."transactions"."tenantId", "public"."transactions"."invoiceId", "public"."transactions"."paymentId", "public"."transactions"."type", "public"."transactions"."amount", "public"."transactions"."taxAmount", "public"."transactions"."totalAmount", "public"."transactions"."status", "public"."transactions"."description", "public"."transactions"."reference", "public"."transactions"."metadata", "public"."transactions"."createdAt", "public"."transactions"."updatedAt", "public"."transactions"."createdBy", "public"."transactions"."isDeleted", "public"."transactions"."deletedAt", "public"."transactions"."deletedBy" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) ORDER BY "public"."transactions"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT COUNT(*) FROM (SELECT "public"."transactions"."id" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) OFFSET $5) AS "sub"
prisma:query SELECT COUNT("public"."transactions"."id"), "public"."transactions"."status" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) GROUP BY "public"."transactions"."status" OFFSET $3
prisma:query SELECT SUM("totalAmount") FROM (SELECT "public"."transactions"."totalAmount" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."payments"."id"), "public"."payments"."paymentMethod" FROM "public"."payments" WHERE ("public"."payments"."tenantId" = $1 AND "public"."payments"."isDeleted" = $2) GROUP BY "public"."payments"."paymentMethod" OFFSET $3
[32m[2025-09-09T02:31:50.429Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ä¼šè¨ˆå–å¼•ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T02:31:54.524Z POST /api/auth/validate
2025-09-09T02:31:54.534Z POST /api/auth/validate
2025-09-09T02:31:54.538Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T02:31:54.562Z POST /api/auth/validate
2025-09-09T02:31:54.563Z POST /api/auth/validate
2025-09-09T02:31:54.569Z GET /api/v1/admin/orders
prisma:query SELECT 1
2025-09-09T02:31:54.570Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T02:31:54.572Z POST /api/auth/validate
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
2025-09-09T02:31:54.572Z POST /api/auth/validate
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
2025-09-09T02:31:54.573Z GET /api/v1/admin/front-desk/accounting
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T02:31:54.574Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT 1
prisma:query SELECT "public"."transactions"."id", "public"."transactions"."tenantId", "public"."transactions"."invoiceId", "public"."transactions"."paymentId", "public"."transactions"."type", "public"."transactions"."amount", "public"."transactions"."taxAmount", "public"."transactions"."totalAmount", "public"."transactions"."status", "public"."transactions"."description", "public"."transactions"."reference", "public"."transactions"."metadata", "public"."transactions"."createdAt", "public"."transactions"."updatedAt", "public"."transactions"."createdBy", "public"."transactions"."isDeleted", "public"."transactions"."deletedAt", "public"."transactions"."deletedBy" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) ORDER BY "public"."transactions"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."transactions"."id" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) OFFSET $5) AS "sub"
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT("public"."transactions"."id"), "public"."transactions"."status" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) GROUP BY "public"."transactions"."status" OFFSET $3
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-09T02:31:54.577Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT SUM("totalAmount") FROM (SELECT "public"."transactions"."totalAmount" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T02:31:54.578Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT("public"."payments"."id"), "public"."payments"."paymentMethod" FROM "public"."payments" WHERE ("public"."payments"."tenantId" = $1 AND "public"."payments"."isDeleted" = $2) GROUP BY "public"."payments"."paymentMethod" OFFSET $3
[32m[2025-09-09T02:31:54.580Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ä¼šè¨ˆå–å¼•ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T02:31:55.388Z POST /api/auth/validate
2025-09-09T02:31:55.399Z POST /api/auth/validate
2025-09-09T02:31:55.400Z POST /api/auth/validate
2025-09-09T02:31:55.402Z GET /api/v1/admin/front-desk/accounting
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T02:31:55.403Z GET /api/v1/admin/front-desk/accounting
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."transactions"."id" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."transactions"."id", "public"."transactions"."tenantId", "public"."transactions"."invoiceId", "public"."transactions"."paymentId", "public"."transactions"."type", "public"."transactions"."amount", "public"."transactions"."taxAmount", "public"."transactions"."totalAmount", "public"."transactions"."status", "public"."transactions"."description", "public"."transactions"."reference", "public"."transactions"."metadata", "public"."transactions"."createdAt", "public"."transactions"."updatedAt", "public"."transactions"."createdBy", "public"."transactions"."isDeleted", "public"."transactions"."deletedAt", "public"."transactions"."deletedBy" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) ORDER BY "public"."transactions"."createdAt" DESC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."transactions"."id" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."transactions"."id", "public"."transactions"."tenantId", "public"."transactions"."invoiceId", "public"."transactions"."paymentId", "public"."transactions"."type", "public"."transactions"."amount", "public"."transactions"."taxAmount", "public"."transactions"."totalAmount", "public"."transactions"."status", "public"."transactions"."description", "public"."transactions"."reference", "public"."transactions"."metadata", "public"."transactions"."createdAt", "public"."transactions"."updatedAt", "public"."transactions"."createdBy", "public"."transactions"."isDeleted", "public"."transactions"."deletedAt", "public"."transactions"."deletedBy" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) ORDER BY "public"."transactions"."createdAt" DESC LIMIT $3 OFFSET $4
prisma:query SELECT "public"."invoices"."id", "public"."invoices"."tenantId", "public"."invoices"."invoiceNumber", "public"."invoices"."customerId", "public"."invoices"."customerName", "public"."invoices"."customerEmail", "public"."invoices"."billingAddress", "public"."invoices"."items", "public"."invoices"."subtotal", "public"."invoices"."taxAmount", "public"."invoices"."totalAmount", "public"."invoices"."status", "public"."invoices"."dueDate", "public"."invoices"."issuedAt", "public"."invoices"."paidAt", "public"."invoices"."notes", "public"."invoices"."metadata", "public"."invoices"."createdAt", "public"."invoices"."updatedAt", "public"."invoices"."createdBy", "public"."invoices"."isDeleted", "public"."invoices"."deletedAt", "public"."invoices"."deletedBy" FROM "public"."invoices" WHERE "public"."invoices"."id" IN ($1) OFFSET $2
prisma:query SELECT "public"."invoices"."id", "public"."invoices"."tenantId", "public"."invoices"."invoiceNumber", "public"."invoices"."customerId", "public"."invoices"."customerName", "public"."invoices"."customerEmail", "public"."invoices"."billingAddress", "public"."invoices"."items", "public"."invoices"."subtotal", "public"."invoices"."taxAmount", "public"."invoices"."totalAmount", "public"."invoices"."status", "public"."invoices"."dueDate", "public"."invoices"."issuedAt", "public"."invoices"."paidAt", "public"."invoices"."notes", "public"."invoices"."metadata", "public"."invoices"."createdAt", "public"."invoices"."updatedAt", "public"."invoices"."createdBy", "public"."invoices"."isDeleted", "public"."invoices"."deletedAt", "public"."invoices"."deletedBy" FROM "public"."invoices" WHERE "public"."invoices"."id" IN ($1) OFFSET $2
prisma:query SELECT "public"."payments"."id", "public"."payments"."tenantId", "public"."payments"."transactionId", "public"."payments"."invoiceId", "public"."payments"."paymentMethod", "public"."payments"."amount", "public"."payments"."status", "public"."payments"."reference", "public"."payments"."metadata", "public"."payments"."processedAt", "public"."payments"."createdAt", "public"."payments"."updatedAt", "public"."payments"."createdBy", "public"."payments"."isDeleted", "public"."payments"."deletedAt", "public"."payments"."deletedBy" FROM "public"."payments" WHERE "public"."payments"."transactionId" IN ($1) OFFSET $2
prisma:query SELECT "public"."payments"."id", "public"."payments"."tenantId", "public"."payments"."transactionId", "public"."payments"."invoiceId", "public"."payments"."paymentMethod", "public"."payments"."amount", "public"."payments"."status", "public"."payments"."reference", "public"."payments"."metadata", "public"."payments"."processedAt", "public"."payments"."createdAt", "public"."payments"."updatedAt", "public"."payments"."createdBy", "public"."payments"."isDeleted", "public"."payments"."deletedAt", "public"."payments"."deletedBy" FROM "public"."payments" WHERE "public"."payments"."transactionId" IN ($1) OFFSET $2
prisma:query SELECT COUNT("public"."payments"."id"), "public"."payments"."paymentMethod" FROM "public"."payments" WHERE ("public"."payments"."tenantId" = $1 AND "public"."payments"."isDeleted" = $2) GROUP BY "public"."payments"."paymentMethod" OFFSET $3
prisma:query SELECT COUNT("public"."payments"."id"), "public"."payments"."paymentMethod" FROM "public"."payments" WHERE ("public"."payments"."tenantId" = $1 AND "public"."payments"."isDeleted" = $2) GROUP BY "public"."payments"."paymentMethod" OFFSET $3
prisma:query SELECT COUNT("public"."transactions"."id"), "public"."transactions"."status" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) GROUP BY "public"."transactions"."status" OFFSET $3
prisma:query SELECT COUNT("public"."transactions"."id"), "public"."transactions"."status" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) GROUP BY "public"."transactions"."status" OFFSET $3
[32m[2025-09-09T02:31:55.413Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ä¼šè¨ˆå–å¼•ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT SUM("totalAmount") FROM (SELECT "public"."transactions"."totalAmount" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT SUM("totalAmount") FROM (SELECT "public"."transactions"."totalAmount" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
[32m[2025-09-09T02:31:55.414Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ä¼šè¨ˆå–å¼•ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T02:31:57.051Z POST /api/v1/devices/check-status
2025-09-09T02:31:57.056Z POST /api/auth/validate
2025-09-09T02:31:57.066Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T02:31:57.070Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T02:31:58.829Z POST /api/auth/validate
2025-09-09T02:31:58.831Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T02:31:58.853Z POST /api/auth/validate
2025-09-09T02:31:58.863Z POST /api/auth/validate
2025-09-09T02:31:58.865Z POST /api/auth/validate
2025-09-09T02:31:58.866Z GET /api/v1/admin/front-desk/accounting
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T02:31:58.868Z GET /api/v1/admin/front-desk/accounting
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."transactions"."id" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."transactions"."id", "public"."transactions"."tenantId", "public"."transactions"."invoiceId", "public"."transactions"."paymentId", "public"."transactions"."type", "public"."transactions"."amount", "public"."transactions"."taxAmount", "public"."transactions"."totalAmount", "public"."transactions"."status", "public"."transactions"."description", "public"."transactions"."reference", "public"."transactions"."metadata", "public"."transactions"."createdAt", "public"."transactions"."updatedAt", "public"."transactions"."createdBy", "public"."transactions"."isDeleted", "public"."transactions"."deletedAt", "public"."transactions"."deletedBy" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) ORDER BY "public"."transactions"."createdAt" DESC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."transactions"."id" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."transactions"."id", "public"."transactions"."tenantId", "public"."transactions"."invoiceId", "public"."transactions"."paymentId", "public"."transactions"."type", "public"."transactions"."amount", "public"."transactions"."taxAmount", "public"."transactions"."totalAmount", "public"."transactions"."status", "public"."transactions"."description", "public"."transactions"."reference", "public"."transactions"."metadata", "public"."transactions"."createdAt", "public"."transactions"."updatedAt", "public"."transactions"."createdBy", "public"."transactions"."isDeleted", "public"."transactions"."deletedAt", "public"."transactions"."deletedBy" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) ORDER BY "public"."transactions"."createdAt" DESC LIMIT $3 OFFSET $4
prisma:query SELECT "public"."invoices"."id", "public"."invoices"."tenantId", "public"."invoices"."invoiceNumber", "public"."invoices"."customerId", "public"."invoices"."customerName", "public"."invoices"."customerEmail", "public"."invoices"."billingAddress", "public"."invoices"."items", "public"."invoices"."subtotal", "public"."invoices"."taxAmount", "public"."invoices"."totalAmount", "public"."invoices"."status", "public"."invoices"."dueDate", "public"."invoices"."issuedAt", "public"."invoices"."paidAt", "public"."invoices"."notes", "public"."invoices"."metadata", "public"."invoices"."createdAt", "public"."invoices"."updatedAt", "public"."invoices"."createdBy", "public"."invoices"."isDeleted", "public"."invoices"."deletedAt", "public"."invoices"."deletedBy" FROM "public"."invoices" WHERE "public"."invoices"."id" IN ($1) OFFSET $2
prisma:query SELECT "public"."payments"."id", "public"."payments"."tenantId", "public"."payments"."transactionId", "public"."payments"."invoiceId", "public"."payments"."paymentMethod", "public"."payments"."amount", "public"."payments"."status", "public"."payments"."reference", "public"."payments"."metadata", "public"."payments"."processedAt", "public"."payments"."createdAt", "public"."payments"."updatedAt", "public"."payments"."createdBy", "public"."payments"."isDeleted", "public"."payments"."deletedAt", "public"."payments"."deletedBy" FROM "public"."payments" WHERE "public"."payments"."transactionId" IN ($1) OFFSET $2
prisma:query SELECT "public"."invoices"."id", "public"."invoices"."tenantId", "public"."invoices"."invoiceNumber", "public"."invoices"."customerId", "public"."invoices"."customerName", "public"."invoices"."customerEmail", "public"."invoices"."billingAddress", "public"."invoices"."items", "public"."invoices"."subtotal", "public"."invoices"."taxAmount", "public"."invoices"."totalAmount", "public"."invoices"."status", "public"."invoices"."dueDate", "public"."invoices"."issuedAt", "public"."invoices"."paidAt", "public"."invoices"."notes", "public"."invoices"."metadata", "public"."invoices"."createdAt", "public"."invoices"."updatedAt", "public"."invoices"."createdBy", "public"."invoices"."isDeleted", "public"."invoices"."deletedAt", "public"."invoices"."deletedBy" FROM "public"."invoices" WHERE "public"."invoices"."id" IN ($1) OFFSET $2
prisma:query SELECT COUNT("public"."transactions"."id"), "public"."transactions"."status" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) GROUP BY "public"."transactions"."status" OFFSET $3
prisma:query SELECT SUM("totalAmount") FROM (SELECT "public"."transactions"."totalAmount" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."payments"."id", "public"."payments"."tenantId", "public"."payments"."transactionId", "public"."payments"."invoiceId", "public"."payments"."paymentMethod", "public"."payments"."amount", "public"."payments"."status", "public"."payments"."reference", "public"."payments"."metadata", "public"."payments"."processedAt", "public"."payments"."createdAt", "public"."payments"."updatedAt", "public"."payments"."createdBy", "public"."payments"."isDeleted", "public"."payments"."deletedAt", "public"."payments"."deletedBy" FROM "public"."payments" WHERE "public"."payments"."transactionId" IN ($1) OFFSET $2
[32m[2025-09-09T02:31:58.873Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ä¼šè¨ˆå–å¼•ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT("public"."payments"."id"), "public"."payments"."paymentMethod" FROM "public"."payments" WHERE ("public"."payments"."tenantId" = $1 AND "public"."payments"."isDeleted" = $2) GROUP BY "public"."payments"."paymentMethod" OFFSET $3
prisma:query SELECT COUNT("public"."transactions"."id"), "public"."transactions"."status" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) GROUP BY "public"."transactions"."status" OFFSET $3
prisma:query SELECT SUM("totalAmount") FROM (SELECT "public"."transactions"."totalAmount" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."payments"."id"), "public"."payments"."paymentMethod" FROM "public"."payments" WHERE ("public"."payments"."tenantId" = $1 AND "public"."payments"."isDeleted" = $2) GROUP BY "public"."payments"."paymentMethod" OFFSET $3
[32m[2025-09-09T02:31:58.874Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ä¼šè¨ˆå–å¼•ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T02:32:00.307Z POST /api/auth/validate
2025-09-09T02:32:00.308Z POST /api/auth/validate
2025-09-09T02:32:00.309Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
2025-09-09T02:32:00.313Z GET /api/v1/admin/orders
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
2025-09-09T02:32:00.315Z POST /api/auth/validate
2025-09-09T02:32:00.316Z POST /api/auth/validate
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
[32m[2025-09-09T02:32:00.316Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T02:32:00.317Z GET /api/v1/admin/front-desk/accounting
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T02:32:00.317Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."transactions"."id" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
prisma:query SELECT "public"."transactions"."id", "public"."transactions"."tenantId", "public"."transactions"."invoiceId", "public"."transactions"."paymentId", "public"."transactions"."type", "public"."transactions"."amount", "public"."transactions"."taxAmount", "public"."transactions"."totalAmount", "public"."transactions"."status", "public"."transactions"."description", "public"."transactions"."reference", "public"."transactions"."metadata", "public"."transactions"."createdAt", "public"."transactions"."updatedAt", "public"."transactions"."createdBy", "public"."transactions"."isDeleted", "public"."transactions"."deletedAt", "public"."transactions"."deletedBy" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) ORDER BY "public"."transactions"."createdAt" DESC LIMIT $5 OFFSET $6
[32m[2025-09-09T02:32:00.321Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT SUM("totalAmount") FROM (SELECT "public"."transactions"."totalAmount" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."transactions"."id"), "public"."transactions"."status" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) GROUP BY "public"."transactions"."status" OFFSET $3
prisma:query SELECT COUNT("public"."payments"."id"), "public"."payments"."paymentMethod" FROM "public"."payments" WHERE ("public"."payments"."tenantId" = $1 AND "public"."payments"."isDeleted" = $2) GROUP BY "public"."payments"."paymentMethod" OFFSET $3
[32m[2025-09-09T02:32:00.321Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ä¼šè¨ˆå–å¼•ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T02:32:01.529Z POST /api/v1/devices/check-status
2025-09-09T02:32:01.532Z POST /api/auth/validate
2025-09-09T02:32:01.537Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T02:32:01.542Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T02:32:02.875Z POST /api/auth/validate
2025-09-09T02:32:02.877Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T02:32:02.903Z POST /api/auth/validate
2025-09-09T02:32:02.904Z POST /api/auth/validate
2025-09-09T02:32:02.905Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T02:32:02.907Z GET /api/v1/admin/orders
2025-09-09T02:32:02.908Z POST /api/auth/validate
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
2025-09-09T02:32:02.910Z POST /api/auth/validate
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T02:32:02.910Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T02:32:02.911Z GET /api/v1/admin/front-desk/accounting
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T02:32:02.913Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."transactions"."id" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."transactions"."id", "public"."transactions"."tenantId", "public"."transactions"."invoiceId", "public"."transactions"."paymentId", "public"."transactions"."type", "public"."transactions"."amount", "public"."transactions"."taxAmount", "public"."transactions"."totalAmount", "public"."transactions"."status", "public"."transactions"."description", "public"."transactions"."reference", "public"."transactions"."metadata", "public"."transactions"."createdAt", "public"."transactions"."updatedAt", "public"."transactions"."createdBy", "public"."transactions"."isDeleted", "public"."transactions"."deletedAt", "public"."transactions"."deletedBy" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) ORDER BY "public"."transactions"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
prisma:query SELECT COUNT("public"."transactions"."id"), "public"."transactions"."status" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) GROUP BY "public"."transactions"."status" OFFSET $3
prisma:query SELECT SUM("totalAmount") FROM (SELECT "public"."transactions"."totalAmount" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT("public"."payments"."id"), "public"."payments"."paymentMethod" FROM "public"."payments" WHERE ("public"."payments"."tenantId" = $1 AND "public"."payments"."isDeleted" = $2) GROUP BY "public"."payments"."paymentMethod" OFFSET $3
[32m[2025-09-09T02:32:02.916Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ä¼šè¨ˆå–å¼•ä¸€è¦§å–å¾—å®Œäº†
[32m[2025-09-09T02:32:02.916Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T02:32:04.364Z POST /api/v1/devices/check-status
2025-09-09T02:32:04.366Z POST /api/auth/validate
2025-09-09T02:32:04.371Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T02:32:04.374Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T02:32:06.184Z POST /api/auth/validate
2025-09-09T02:32:06.187Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-09T02:32:06.191Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
2025-09-09T02:32:14.320Z POST /api/auth/validate
2025-09-09T02:32:14.323Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-09T02:32:14.326Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T02:37:05.904Z POST /api/auth/validate
2025-09-09T02:37:05.938Z POST /api/auth/validate
2025-09-09T02:37:05.940Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T02:37:06.046Z POST /api/auth/validate
2025-09-09T02:37:06.051Z POST /api/auth/validate
2025-09-09T02:37:06.065Z POST /api/auth/validate
2025-09-09T02:37:06.067Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T02:37:06.070Z GET /api/v1/admin/orders
2025-09-09T02:37:06.071Z GET /api/v1/admin/front-desk/accounting
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T02:37:06.074Z POST /api/auth/validate
2025-09-09T02:37:06.078Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T02:37:06.236Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT "public"."transactions"."id", "public"."transactions"."tenantId", "public"."transactions"."invoiceId", "public"."transactions"."paymentId", "public"."transactions"."type", "public"."transactions"."amount", "public"."transactions"."taxAmount", "public"."transactions"."totalAmount", "public"."transactions"."status", "public"."transactions"."description", "public"."transactions"."reference", "public"."transactions"."metadata", "public"."transactions"."createdAt", "public"."transactions"."updatedAt", "public"."transactions"."createdBy", "public"."transactions"."isDeleted", "public"."transactions"."deletedAt", "public"."transactions"."deletedBy" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) ORDER BY "public"."transactions"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT COUNT(*) FROM (SELECT "public"."transactions"."id" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) OFFSET $5) AS "sub"
prisma:query SELECT SUM("totalAmount") FROM (SELECT "public"."transactions"."totalAmount" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT("public"."transactions"."id"), "public"."transactions"."status" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) GROUP BY "public"."transactions"."status" OFFSET $3
prisma:query SELECT COUNT("public"."payments"."id"), "public"."payments"."paymentMethod" FROM "public"."payments" WHERE ("public"."payments"."tenantId" = $1 AND "public"."payments"."isDeleted" = $2) GROUP BY "public"."payments"."paymentMethod" OFFSET $3
[32m[2025-09-09T02:37:06.359Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ä¼šè¨ˆå–å¼•ä¸€è¦§å–å¾—å®Œäº†
[32m[2025-09-09T02:37:06.360Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
ğŸ” Health check started (1/4 systems connected)
2025-09-09T02:38:33.446Z POST /api/auth/validate
2025-09-09T02:38:33.451Z GET /api/v1/menu/items
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T02:41:40.742Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T02:41:40.754Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T02:41:40.962Z POST /api/auth/validate
2025-09-09T02:41:40.964Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T02:41:41.052Z POST /api/auth/validate
2025-09-09T02:41:41.060Z POST /api/auth/validate
2025-09-09T02:41:41.069Z GET /api/v1/admin/summary
prisma:query SELECT 1
2025-09-09T02:41:41.077Z GET /api/v1/admin/devices/count
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
2025-09-09T02:41:41.078Z POST /api/auth/validate
prisma:query SELECT 1
2025-09-09T02:41:41.079Z POST /api/auth/validate
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
2025-09-09T02:41:41.080Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType", "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType", "public"."device_rooms"."status" OFFSET $2
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
2025-09-09T02:41:41.082Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
2025-09-09T02:42:44.044Z POST /api/auth/validate
2025-09-09T02:42:44.061Z GET /api/v1/menu/items
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T02:42:44.534Z POST /api/auth/validate
2025-09-09T02:42:44.558Z GET /api/v1/menu/categories
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T02:42:51.525Z POST /api/auth/validate
2025-09-09T02:42:51.531Z POST /api/auth/validate
2025-09-09T02:42:51.545Z GET /api/v1/admin/devices/count
2025-09-09T02:42:51.547Z POST /api/auth/validate
2025-09-09T02:42:51.547Z GET /api/v1/admin/summary
2025-09-09T02:42:51.548Z POST /api/auth/validate
2025-09-09T02:42:51.553Z GET /api/v1/admin/orders
2025-09-09T02:42:51.558Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType", "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType", "public"."device_rooms"."status" OFFSET $2
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
2025-09-09T02:42:57.856Z POST /api/auth/validate
2025-09-09T02:42:57.874Z POST /api/auth/validate
2025-09-09T02:42:57.879Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T02:43:02.723Z POST /api/auth/validate
2025-09-09T02:43:02.727Z POST /api/auth/validate
2025-09-09T02:43:02.730Z POST /api/auth/validate
2025-09-09T02:43:02.732Z GET /api/v1/admin/devices/count
2025-09-09T02:43:02.733Z POST /api/auth/validate
2025-09-09T02:43:02.735Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType", "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType", "public"."device_rooms"."status" OFFSET $2
2025-09-09T02:43:02.737Z GET /api/v1/admin/summary
2025-09-09T02:43:02.738Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T02:55:21.450Z POST /api/auth/validate
2025-09-09T02:55:21.464Z POST /api/auth/validate
2025-09-09T02:55:21.467Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T02:55:21.613Z POST /api/auth/validate
2025-09-09T02:55:21.617Z POST /api/auth/validate
2025-09-09T02:55:21.627Z POST /api/auth/validate
2025-09-09T02:55:21.628Z GET /api/v1/admin/summary
2025-09-09T02:55:21.629Z GET /api/v1/admin/devices/count
2025-09-09T02:55:21.630Z GET /api/v1/admin/orders/monthly-count
2025-09-09T02:55:21.631Z POST /api/auth/validate
2025-09-09T02:55:21.634Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType", "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType", "public"."device_rooms"."status" OFFSET $2
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T03:37:42.577Z POST /api/auth/validate
2025-09-09T03:37:42.586Z POST /api/auth/validate
2025-09-09T03:37:42.589Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T03:37:42.650Z POST /api/auth/validate
2025-09-09T03:37:42.653Z POST /api/auth/validate
2025-09-09T03:37:42.658Z GET /api/v1/admin/devices/count
2025-09-09T03:37:42.662Z GET /api/v1/admin/summary
2025-09-09T03:37:42.663Z POST /api/auth/validate
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType", "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType", "public"."device_rooms"."status" OFFSET $2
prisma:query SELECT 1
2025-09-09T03:37:42.664Z POST /api/auth/validate
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
2025-09-09T03:37:42.666Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
2025-09-09T03:37:42.669Z GET /api/v1/admin/orders/monthly-count
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T03:48:28.349Z POST /api/auth/validate
2025-09-09T03:48:28.357Z POST /api/auth/validate
2025-09-09T03:48:28.359Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T03:48:28.522Z POST /api/auth/validate
2025-09-09T03:48:28.523Z POST /api/auth/validate
2025-09-09T03:48:28.527Z GET /api/v1/admin/devices/count
2025-09-09T03:48:28.529Z GET /api/v1/admin/summary
2025-09-09T03:48:28.530Z POST /api/auth/validate
2025-09-09T03:48:28.531Z POST /api/auth/validate
2025-09-09T03:48:28.532Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType", "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType", "public"."device_rooms"."status" OFFSET $2
2025-09-09T03:48:28.532Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T04:13:18.773Z POST /api/auth/validate
2025-09-09T04:13:18.780Z POST /api/auth/validate
2025-09-09T04:13:18.782Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T04:13:18.921Z POST /api/auth/validate
2025-09-09T04:13:18.922Z POST /api/auth/validate
2025-09-09T04:13:18.928Z POST /api/auth/validate
2025-09-09T04:13:18.928Z GET /api/v1/admin/summary
2025-09-09T04:13:18.929Z GET /api/v1/admin/devices/count
2025-09-09T04:13:18.929Z GET /api/v1/admin/orders/monthly-count
2025-09-09T04:13:18.930Z POST /api/auth/validate
2025-09-09T04:13:18.932Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType", "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType", "public"."device_rooms"."status" OFFSET $2
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T04:55:19.169Z POST /api/auth/validate
2025-09-09T04:55:19.178Z POST /api/auth/validate
2025-09-09T04:55:19.181Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T04:55:19.402Z POST /api/auth/validate
2025-09-09T04:55:19.405Z POST /api/auth/validate
2025-09-09T04:55:19.412Z POST /api/auth/validate
2025-09-09T04:55:19.413Z GET /api/v1/admin/devices/count
2025-09-09T04:55:19.413Z GET /api/v1/admin/orders
2025-09-09T04:55:19.414Z GET /api/v1/admin/orders/monthly-count
2025-09-09T04:55:19.415Z POST /api/auth/validate
2025-09-09T04:55:19.416Z GET /api/v1/admin/summary
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType", "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType", "public"."device_rooms"."status" OFFSET $2
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T06:32:58.713Z POST /api/auth/validate
2025-09-09T06:32:58.734Z POST /api/auth/validate
2025-09-09T06:32:58.739Z POST /api/auth/validate
2025-09-09T06:32:58.745Z GET /api/v1/admin/orders
2025-09-09T06:32:58.750Z POST /api/auth/validate
2025-09-09T06:32:58.751Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T06:32:58.758Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T06:32:58.760Z GET /api/v1/admin/front-desk/accounting
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T06:32:58.815Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-09T06:32:58.820Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT "public"."transactions"."id", "public"."transactions"."tenantId", "public"."transactions"."invoiceId", "public"."transactions"."paymentId", "public"."transactions"."type", "public"."transactions"."amount", "public"."transactions"."taxAmount", "public"."transactions"."totalAmount", "public"."transactions"."status", "public"."transactions"."description", "public"."transactions"."reference", "public"."transactions"."metadata", "public"."transactions"."createdAt", "public"."transactions"."updatedAt", "public"."transactions"."createdBy", "public"."transactions"."isDeleted", "public"."transactions"."deletedAt", "public"."transactions"."deletedBy" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) ORDER BY "public"."transactions"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT COUNT(*) FROM (SELECT "public"."transactions"."id" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) OFFSET $5) AS "sub"
prisma:query SELECT COUNT("public"."transactions"."id"), "public"."transactions"."status" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) GROUP BY "public"."transactions"."status" OFFSET $3
prisma:query SELECT SUM("totalAmount") FROM (SELECT "public"."transactions"."totalAmount" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."payments"."id"), "public"."payments"."paymentMethod" FROM "public"."payments" WHERE ("public"."payments"."tenantId" = $1 AND "public"."payments"."isDeleted" = $2) GROUP BY "public"."payments"."paymentMethod" OFFSET $3
[32m[2025-09-09T06:32:58.826Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ä¼šè¨ˆå–å¼•ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T06:32:59.902Z POST /api/v1/devices/check-status
2025-09-09T06:32:59.904Z POST /api/auth/validate
2025-09-09T06:32:59.907Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T06:32:59.914Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T06:33:02.479Z POST /api/auth/validate
2025-09-09T06:33:02.492Z POST /api/auth/validate
2025-09-09T06:33:02.494Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T06:33:02.525Z POST /api/auth/validate
2025-09-09T06:33:02.526Z POST /api/auth/validate
2025-09-09T06:33:02.529Z GET /api/v1/admin/orders
2025-09-09T06:33:02.532Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T06:33:02.532Z POST /api/auth/validate
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
2025-09-09T06:33:02.533Z POST /api/auth/validate
2025-09-09T06:33:02.534Z GET /api/v1/admin/front-desk/accounting
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T06:33:02.536Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T06:33:02.537Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."transactions"."id", "public"."transactions"."tenantId", "public"."transactions"."invoiceId", "public"."transactions"."paymentId", "public"."transactions"."type", "public"."transactions"."amount", "public"."transactions"."taxAmount", "public"."transactions"."totalAmount", "public"."transactions"."status", "public"."transactions"."description", "public"."transactions"."reference", "public"."transactions"."metadata", "public"."transactions"."createdAt", "public"."transactions"."updatedAt", "public"."transactions"."createdBy", "public"."transactions"."isDeleted", "public"."transactions"."deletedAt", "public"."transactions"."deletedBy" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) ORDER BY "public"."transactions"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT COUNT(*) FROM (SELECT "public"."transactions"."id" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
prisma:query SELECT COUNT("public"."transactions"."id"), "public"."transactions"."status" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) GROUP BY "public"."transactions"."status" OFFSET $3
prisma:query SELECT SUM("totalAmount") FROM (SELECT "public"."transactions"."totalAmount" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
[32m[2025-09-09T06:33:02.541Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT("public"."payments"."id"), "public"."payments"."paymentMethod" FROM "public"."payments" WHERE ("public"."payments"."tenantId" = $1 AND "public"."payments"."isDeleted" = $2) GROUP BY "public"."payments"."paymentMethod" OFFSET $3
[32m[2025-09-09T06:33:02.542Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ä¼šè¨ˆå–å¼•ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T06:33:06.839Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T06:33:06.853Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T06:33:07.068Z POST /api/auth/validate
2025-09-09T06:33:07.069Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T06:33:07.408Z POST /api/auth/validate
2025-09-09T06:33:07.413Z POST /api/auth/validate
2025-09-09T06:33:07.418Z GET /api/v1/admin/devices/count
2025-09-09T06:33:07.420Z GET /api/v1/admin/summary
2025-09-09T06:33:07.421Z POST /api/auth/validate
2025-09-09T06:33:07.422Z POST /api/auth/validate
2025-09-09T06:33:07.423Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType", "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType", "public"."device_rooms"."status" OFFSET $2
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
2025-09-09T06:33:07.424Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
2025-09-09T06:33:09.110Z POST /api/auth/validate
2025-09-09T06:33:09.114Z POST /api/auth/validate
2025-09-09T06:33:09.115Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T06:33:09.117Z POST /api/auth/validate
2025-09-09T06:33:09.117Z GET /api/v1/admin/orders
2025-09-09T06:33:09.118Z POST /api/auth/validate
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
2025-09-09T06:33:09.119Z GET /api/v1/admin/front-desk/accounting
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
2025-09-09T06:33:09.121Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."transactions"."id" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) OFFSET $5) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT "public"."transactions"."id", "public"."transactions"."tenantId", "public"."transactions"."invoiceId", "public"."transactions"."paymentId", "public"."transactions"."type", "public"."transactions"."amount", "public"."transactions"."taxAmount", "public"."transactions"."totalAmount", "public"."transactions"."status", "public"."transactions"."description", "public"."transactions"."reference", "public"."transactions"."metadata", "public"."transactions"."createdAt", "public"."transactions"."updatedAt", "public"."transactions"."createdBy", "public"."transactions"."isDeleted", "public"."transactions"."deletedAt", "public"."transactions"."deletedBy" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) ORDER BY "public"."transactions"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
[32m[2025-09-09T06:33:09.123Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT("public"."transactions"."id"), "public"."transactions"."status" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) GROUP BY "public"."transactions"."status" OFFSET $3
prisma:query SELECT SUM("totalAmount") FROM (SELECT "public"."transactions"."totalAmount" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
prisma:query SELECT COUNT("public"."payments"."id"), "public"."payments"."paymentMethod" FROM "public"."payments" WHERE ("public"."payments"."tenantId" = $1 AND "public"."payments"."isDeleted" = $2) GROUP BY "public"."payments"."paymentMethod" OFFSET $3
[32m[2025-09-09T06:33:09.126Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ä¼šè¨ˆå–å¼•ä¸€è¦§å–å¾—å®Œäº†
[32m[2025-09-09T06:33:09.127Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T06:33:10.684Z POST /api/v1/devices/check-status
2025-09-09T06:33:10.691Z POST /api/auth/validate
2025-09-09T06:33:10.696Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T06:33:10.700Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T06:33:12.304Z POST /api/auth/validate
2025-09-09T06:33:12.307Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-09T06:33:13.105Z POST /api/auth/validate
2025-09-09T06:33:13.106Z GET /api/v1/admin/orders
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
2025-09-09T06:33:17.407Z POST /api/auth/validate
2025-09-09T06:33:17.682Z POST /api/v1/devices/check-status
2025-09-09T06:33:17.693Z POST /api/auth/validate
2025-09-09T06:33:17.697Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T06:33:17.702Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T06:33:19.730Z POST /api/auth/validate
2025-09-09T06:33:19.733Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-09T06:33:19.737Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-09T06:33:57.096Z POST /api/auth/validate
2025-09-09T06:33:57.098Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-09T06:33:57.100Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-09T06:36:38.758Z POST /api/v1/devices/check-status
2025-09-09T06:36:38.777Z POST /api/auth/validate
2025-09-09T06:36:38.784Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T06:36:38.796Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T08:19:25.283Z POST /api/auth/validate
2025-09-09T08:19:25.411Z POST /api/v1/devices/check-status
2025-09-09T08:19:25.418Z POST /api/auth/validate
2025-09-09T08:19:25.421Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T08:19:25.452Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-09T08:19:44.516Z POST /api/auth/validate
2025-09-09T08:19:44.521Z GET /api/v1/admin/orders
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-09T08:19:45.133Z POST /api/auth/validate
2025-09-09T08:19:45.136Z GET /api/v1/admin/orders
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
2025-09-09T08:19:47.506Z POST /api/auth/validate
2025-09-09T08:19:47.613Z POST /api/v1/devices/check-status
2025-09-09T08:19:47.616Z POST /api/auth/validate
2025-09-09T08:19:47.623Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T08:19:47.628Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T08:20:18.333Z POST /api/auth/validate
2025-09-09T08:20:18.337Z GET /api/v1/devices/client-ip
2025-09-09T08:20:22.026Z POST /api/auth/validate
2025-09-09T08:20:22.029Z GET /api/v1/devices/client-ip
2025-09-09T08:20:27.094Z POST /api/auth/validate
2025-09-09T08:20:27.099Z GET /api/v1/admin/orders
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
2025-09-09T08:20:27.813Z POST /api/auth/validate
2025-09-09T08:20:27.815Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-09T08:20:29.666Z POST /api/auth/validate
2025-09-09T08:20:29.711Z POST /api/v1/devices/check-status
2025-09-09T08:20:29.714Z POST /api/auth/validate
2025-09-09T08:20:29.716Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T08:20:29.719Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T08:20:40.160Z POST /api/auth/validate
2025-09-09T08:20:40.163Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-09T08:20:40.168Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
2025-09-09T08:20:49.789Z POST /api/auth/validate
2025-09-09T08:20:49.821Z POST /api/v1/devices/check-status
2025-09-09T08:20:49.829Z POST /api/auth/validate
2025-09-09T08:20:49.832Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T08:20:49.840Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T08:20:50.840Z POST /api/auth/validate
2025-09-09T08:20:50.861Z POST /api/auth/validate
2025-09-09T08:20:50.863Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T08:20:50.899Z POST /api/auth/validate
2025-09-09T08:20:50.900Z POST /api/auth/validate
2025-09-09T08:20:50.908Z POST /api/auth/validate
2025-09-09T08:20:50.909Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:20:50.909Z GET /api/v1/admin/orders
2025-09-09T08:20:50.910Z GET /api/v1/admin/front-desk/accounting
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:20:50.910Z POST /api/auth/validate
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
2025-09-09T08:20:50.912Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT "public"."transactions"."id", "public"."transactions"."tenantId", "public"."transactions"."invoiceId", "public"."transactions"."paymentId", "public"."transactions"."type", "public"."transactions"."amount", "public"."transactions"."taxAmount", "public"."transactions"."totalAmount", "public"."transactions"."status", "public"."transactions"."description", "public"."transactions"."reference", "public"."transactions"."metadata", "public"."transactions"."createdAt", "public"."transactions"."updatedAt", "public"."transactions"."createdBy", "public"."transactions"."isDeleted", "public"."transactions"."deletedAt", "public"."transactions"."deletedBy" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) ORDER BY "public"."transactions"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."transactions"."id" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) OFFSET $5) AS "sub"
prisma:query SELECT SUM("totalAmount") FROM (SELECT "public"."transactions"."totalAmount" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."payments"."id"), "public"."payments"."paymentMethod" FROM "public"."payments" WHERE ("public"."payments"."tenantId" = $1 AND "public"."payments"."isDeleted" = $2) GROUP BY "public"."payments"."paymentMethod" OFFSET $3
prisma:query SELECT COUNT("public"."transactions"."id"), "public"."transactions"."status" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) GROUP BY "public"."transactions"."status" OFFSET $3
[32m[2025-09-09T08:20:50.956Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ä¼šè¨ˆå–å¼•ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T08:20:50.957Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
[32m[2025-09-09T08:20:50.960Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T08:20:56.819Z GET /api/v1/admin/devices
2025-09-09T08:21:12.825Z POST /api/v1/devices/check-status
2025-09-09T08:21:12.826Z POST /api/auth/validate
2025-09-09T08:21:12.830Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T08:21:12.838Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T08:21:20.754Z POST /api/v1/devices/check-status
2025-09-09T08:21:20.756Z POST /api/auth/validate
2025-09-09T08:21:20.759Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T08:21:20.764Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-09T08:21:33.987Z POST /api/v1/devices/check-status
2025-09-09T08:21:33.999Z POST /api/auth/validate
2025-09-09T08:21:34.004Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T08:21:34.013Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T08:21:34.735Z POST /api/v1/devices/check-status
2025-09-09T08:21:34.742Z POST /api/auth/validate
2025-09-09T08:21:34.746Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T08:21:34.749Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-09T08:25:16.782Z GET /api/v1/admin/devices
ğŸ” Health check started (1/4 systems connected)
2025-09-09T08:26:43.881Z POST /api/auth/validate
2025-09-09T08:26:43.892Z POST /api/auth/validate
2025-09-09T08:26:43.893Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T08:26:44.017Z GET /api/v1/admin/devices
2025-09-09T08:26:53.248Z POST /api/auth/validate
2025-09-09T08:26:53.257Z POST /api/auth/validate
2025-09-09T08:26:53.259Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T08:26:53.314Z GET /api/v1/admin/devices
2025-09-09T08:27:21.212Z GET /api/v1/admin/devices
ğŸ” Health check started (1/4 systems connected)
2025-09-09T08:27:40.435Z GET /api/v1/admin/devices
2025-09-09T08:27:41.251Z GET /api/v1/admin/devices
2025-09-09T08:27:41.388Z GET /api/v1/admin/devices
2025-09-09T08:28:23.412Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:28:23.418Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:28:32.605Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:28:32.611Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:28:50.305Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:28:50.318Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:29:19.269Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:29:19.747Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
2025-09-09T08:29:44.135Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:29:45.046Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:29:50.159Z POST /api/auth/validate
2025-09-09T08:29:50.183Z GET /api/v1/devices/client-ip
2025-09-09T08:29:50.255Z POST /api/auth/validate
2025-09-09T08:29:50.271Z POST /api/auth/validate
2025-09-09T08:29:50.299Z POST /api/auth/validate
2025-09-09T08:29:50.304Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T08:29:50.349Z POST /api/v1/devices/check-status
2025-09-09T08:29:50.363Z POST /api/auth/validate
2025-09-09T08:29:50.368Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
2025-09-09T08:29:50.377Z POST /api/auth/validate
2025-09-09T08:29:50.384Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:29:50.385Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T08:29:50.398Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T08:31:22.467Z POST /api/auth/validate
2025-09-09T08:31:22.480Z POST /api/auth/validate
2025-09-09T08:31:22.482Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T08:31:22.547Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:31:22.553Z POST /api/auth/validate
2025-09-09T08:31:22.564Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T08:44:40.824Z POST /api/auth/validate
2025-09-09T08:44:40.845Z POST /api/auth/validate
2025-09-09T08:44:40.850Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T08:44:41.003Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:44:41.012Z POST /api/auth/validate
2025-09-09T08:44:41.028Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
2025-09-09T08:45:59.500Z POST /api/auth/validate
2025-09-09T08:45:59.510Z POST /api/auth/validate
2025-09-09T08:45:59.513Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T08:45:59.566Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:45:59.569Z POST /api/auth/validate
2025-09-09T08:45:59.579Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:47:20.960Z POST /api/auth/validate
2025-09-09T08:47:20.968Z POST /api/auth/validate
2025-09-09T08:47:20.971Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T08:47:21.030Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:47:21.043Z POST /api/auth/validate
2025-09-09T08:47:21.051Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
2025-09-09T08:48:17.234Z POST /api/auth/validate
2025-09-09T08:48:17.243Z POST /api/auth/validate
2025-09-09T08:48:17.246Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T08:48:17.347Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:48:17.350Z POST /api/auth/validate
2025-09-09T08:48:17.355Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T08:51:49.545Z POST /api/auth/validate
2025-09-09T08:51:49.571Z POST /api/auth/validate
2025-09-09T08:51:49.576Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T08:51:49.698Z POST /api/auth/validate
2025-09-09T08:51:49.705Z POST /api/auth/validate
2025-09-09T08:51:49.717Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:51:49.718Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:52:00.597Z POST /api/auth/validate
2025-09-09T08:52:00.610Z POST /api/auth/validate
2025-09-09T08:52:00.614Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T08:52:00.676Z POST /api/auth/validate
2025-09-09T08:52:00.685Z POST /api/auth/validate
2025-09-09T08:52:00.696Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:52:00.698Z GET /api/v1/admin/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
2025-09-09T08:54:25.963Z POST /api/auth/validate
2025-09-09T08:54:25.991Z POST /api/auth/validate
2025-09-09T08:54:25.997Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T08:54:26.099Z POST /api/auth/validate
2025-09-09T08:54:26.108Z POST /api/auth/validate
2025-09-09T08:54:26.122Z GET /api/v1/devices
2025-09-09T08:54:26.123Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:54:39.850Z POST /api/auth/validate
2025-09-09T08:54:39.861Z POST /api/auth/validate
2025-09-09T08:54:39.865Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T08:54:39.948Z POST /api/auth/validate
2025-09-09T08:54:39.954Z POST /api/auth/validate
2025-09-09T08:54:39.964Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T08:54:39.964Z GET /api/v1/devices
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T09:02:58.620Z POST /api/auth/validate
2025-09-09T09:02:58.634Z POST /api/auth/validate
2025-09-09T09:02:58.638Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T09:02:58.776Z POST /api/auth/validate
2025-09-09T09:02:58.782Z POST /api/auth/validate
2025-09-09T09:02:58.796Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T09:02:58.798Z GET /api/v1/devices
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T09:06:03.123Z POST /api/auth/validate
2025-09-09T09:06:03.130Z POST /api/auth/validate
2025-09-09T09:06:03.132Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T09:06:03.210Z POST /api/auth/validate
2025-09-09T09:06:03.215Z POST /api/auth/validate
2025-09-09T09:06:03.220Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T09:06:03.221Z GET /api/v1/devices
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T09:12:23.572Z POST /api/auth/validate
2025-09-09T09:12:23.587Z POST /api/auth/validate
2025-09-09T09:12:23.590Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T09:12:23.698Z POST /api/auth/validate
2025-09-09T09:12:23.702Z POST /api/auth/validate
2025-09-09T09:12:23.710Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T09:12:23.713Z GET /api/v1/devices
ğŸ” Health check started (1/4 systems connected)
2025-09-09T09:14:25.560Z POST /api/auth/validate
2025-09-09T09:14:25.564Z GET /api/v1/rooms
2025-09-09T09:14:32.167Z POST /api/auth/validate
2025-09-09T09:14:32.169Z POST /api/auth/validate
2025-09-09T09:14:32.185Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T09:14:32.187Z GET /api/v1/devices
2025-09-09T09:14:53.823Z POST /api/auth/validate
2025-09-09T09:14:53.948Z POST /api/auth/validate
2025-09-09T09:14:53.983Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T09:14:54.240Z POST /api/auth/validate
2025-09-09T09:14:54.311Z POST /api/auth/validate
2025-09-09T09:14:54.351Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T09:14:54.395Z GET /api/v1/devices
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T09:17:55.309Z POST /api/auth/validate
2025-09-09T09:17:55.323Z GET /api/v1/devices/client-ip
2025-09-09T09:17:55.336Z POST /api/auth/validate
2025-09-09T09:17:55.692Z POST /api/auth/validate
2025-09-09T09:17:55.707Z POST /api/auth/validate
2025-09-09T09:17:55.709Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T09:17:56.169Z POST /api/v1/devices/check-status
2025-09-09T09:17:56.189Z POST /api/auth/validate
2025-09-09T09:17:56.192Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T09:17:56.193Z POST /api/auth/validate
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
2025-09-09T09:17:56.199Z POST /api/auth/validate
2025-09-09T09:17:56.200Z GET /api/v1/devices
2025-09-09T09:17:56.203Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T09:17:56.217Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T11:26:16.299Z POST /api/auth/validate
2025-09-09T11:26:16.315Z POST /api/auth/validate
2025-09-09T11:26:16.316Z GET /api/v1/devices/client-ip
2025-09-09T11:26:16.558Z POST /api/auth/validate
2025-09-09T11:26:16.589Z POST /api/auth/validate
2025-09-09T11:26:16.591Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T11:26:16.669Z POST /api/v1/devices/check-status
2025-09-09T11:26:16.676Z POST /api/auth/validate
2025-09-09T11:26:16.677Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T11:26:16.705Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T11:26:16.777Z POST /api/auth/validate
2025-09-09T11:26:16.779Z POST /api/auth/validate
2025-09-09T11:26:16.780Z GET /api/v1/devices
2025-09-09T11:26:16.781Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T12:32:02.800Z POST /api/auth/validate
2025-09-09T12:32:02.805Z GET /api/v1/devices/client-ip
2025-09-09T12:32:02.817Z POST /api/auth/validate
2025-09-09T12:32:03.279Z POST /api/v1/devices/check-status
2025-09-09T12:32:03.288Z POST /api/auth/validate
2025-09-09T12:32:03.290Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T12:32:03.320Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T12:32:12.436Z POST /api/auth/validate
2025-09-09T12:32:12.441Z GET /api/v1/devices/client-ip
2025-09-09T12:32:12.446Z POST /api/auth/validate
2025-09-09T12:32:12.858Z POST /api/v1/devices/check-status
2025-09-09T12:32:12.869Z POST /api/auth/validate
2025-09-09T12:32:12.870Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T12:32:12.874Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T12:32:13.271Z POST /api/auth/validate
2025-09-09T12:32:13.278Z POST /api/auth/validate
2025-09-09T12:32:13.280Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T12:32:13.464Z POST /api/auth/validate
2025-09-09T12:32:13.465Z POST /api/auth/validate
2025-09-09T12:32:13.467Z GET /api/v1/devices
2025-09-09T12:32:13.469Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T22:43:15.193Z POST /api/auth/validate
2025-09-09T22:43:17.289Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T22:43:17.332Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T22:43:17.500Z POST /api/auth/validate
2025-09-09T22:43:17.505Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T22:43:17.585Z POST /api/auth/validate
2025-09-09T22:43:17.587Z POST /api/auth/validate
2025-09-09T22:43:17.591Z POST /api/auth/validate
2025-09-09T22:43:17.594Z POST /api/auth/validate
2025-09-09T22:43:17.597Z GET /api/v1/admin/orders/monthly-count
2025-09-09T22:43:17.598Z GET /api/v1/admin/orders
2025-09-09T22:43:17.599Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T22:43:17.600Z GET /api/v1/admin/summary
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
2025-09-09T22:43:21.980Z POST /api/auth/validate
2025-09-09T22:43:21.981Z POST /api/auth/validate
2025-09-09T22:43:21.982Z GET /api/v1/devices
2025-09-09T22:43:21.983Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
2025-09-09T22:46:18.378Z POST /api/auth/validate
2025-09-09T22:46:18.391Z POST /api/auth/validate
2025-09-09T22:46:18.392Z GET /api/v1/devices
2025-09-09T22:46:18.398Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T22:46:19.305Z POST /api/auth/validate
2025-09-09T22:46:19.312Z POST /api/auth/validate
2025-09-09T22:46:19.319Z GET /api/v1/devices
2025-09-09T22:46:19.323Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
2025-09-09T22:46:40.060Z POST /api/auth/validate
2025-09-09T22:46:40.061Z POST /api/auth/validate
2025-09-09T22:46:40.072Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T22:46:40.074Z GET /api/v1/devices
2025-09-09T22:46:40.267Z POST /api/auth/validate
2025-09-09T22:46:40.281Z POST /api/auth/validate
2025-09-09T22:46:40.299Z GET /api/v1/devices
2025-09-09T22:46:40.308Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T22:48:21.021Z POST /api/auth/validate
2025-09-09T22:48:21.039Z POST /api/auth/validate
2025-09-09T22:48:21.043Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T22:48:21.159Z POST /api/auth/validate
2025-09-09T22:48:21.162Z POST /api/auth/validate
2025-09-09T22:48:21.169Z GET /api/v1/devices
2025-09-09T22:48:21.171Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
2025-09-09T22:48:37.860Z POST /api/auth/validate
2025-09-09T22:48:37.868Z POST /api/auth/validate
2025-09-09T22:48:37.871Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T22:48:37.932Z POST /api/auth/validate
2025-09-09T22:48:37.937Z POST /api/auth/validate
2025-09-09T22:48:37.942Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T22:48:37.943Z GET /api/v1/devices
2025-09-09T22:49:31.015Z POST /api/auth/validate
2025-09-09T22:49:31.071Z POST /api/v1/devices/check-status
2025-09-09T22:49:31.080Z POST /api/auth/validate
2025-09-09T22:49:31.083Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T22:49:31.110Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T22:50:00.362Z POST /api/auth/validate
2025-09-09T22:50:00.410Z POST /api/v1/devices/check-status
2025-09-09T22:50:00.418Z POST /api/auth/validate
2025-09-09T22:50:00.421Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T22:50:00.425Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T22:50:24.427Z POST /api/auth/validate
2025-09-09T22:50:24.476Z POST /api/v1/devices/check-status
2025-09-09T22:50:24.482Z POST /api/auth/validate
2025-09-09T22:50:24.484Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T22:50:24.488Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T22:50:27.113Z POST /api/auth/validate
2025-09-09T22:50:27.115Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-09T22:50:27.122Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T22:50:31.560Z POST /api/auth/validate
2025-09-09T22:50:31.565Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-09T22:50:31.568Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-09T22:50:33.738Z POST /api/auth/validate
2025-09-09T22:50:33.743Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-09T22:50:33.746Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T22:50:38.672Z POST /api/auth/validate
2025-09-09T22:50:38.690Z POST /api/auth/validate
2025-09-09T22:50:38.691Z GET /api/v1/devices
2025-09-09T22:50:38.694Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T22:50:42.204Z POST /api/auth/validate
2025-09-09T22:50:42.209Z POST /api/v1/devices
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ãƒ‡ãƒã‚¤ã‚¹ç™»éŒ²ã‚¨ãƒ©ãƒ¼: Error: ãƒ†ãƒŠãƒ³ãƒˆIDã¨éƒ¨å±‹IDã¯å¿…é ˆã§ã™
    at DeviceRoomService.registerDevice (/Users/kaneko/hotel-common/dist/services/device/device-room.service.js:37:19)
    at /Users/kaneko/hotel-common/dist/routes/systems/saas/device.routes.js:120:60
    at Layer.handle [as handle_request] (/Users/kaneko/hotel-common/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/kaneko/hotel-common/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/kaneko/hotel-common/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/kaneko/hotel-common/node_modules/express/lib/router/layer.js:95:5)
    at /Users/kaneko/hotel-common/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/kaneko/hotel-common/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/kaneko/hotel-common/node_modules/express/lib/router/index.js:280:10)
    at authMiddleware (/Users/kaneko/hotel-common/dist/auth/middleware.js:401:9)
2025-09-09T22:50:47.606Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-09T22:50:47.613Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-09T22:50:47.794Z POST /api/auth/validate
2025-09-09T22:50:47.798Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T22:50:48.018Z POST /api/auth/validate
2025-09-09T22:50:48.026Z GET /api/v1/admin/summary
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
2025-09-09T22:50:48.058Z POST /api/auth/validate
2025-09-09T22:50:48.068Z POST /api/auth/validate
2025-09-09T22:50:48.069Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
2025-09-09T22:50:48.075Z POST /api/auth/validate
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
2025-09-09T22:50:48.083Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
2025-09-09T22:50:48.086Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
2025-09-09T22:50:53.512Z POST /api/auth/validate
2025-09-09T22:50:53.515Z POST /api/auth/validate
2025-09-09T22:50:53.519Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T22:50:53.522Z GET /api/v1/devices
2025-09-09T22:51:36.084Z POST /api/auth/validate
2025-09-09T22:51:36.101Z POST /api/auth/validate
2025-09-09T22:51:36.104Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T22:51:36.194Z POST /api/auth/validate
2025-09-09T22:51:36.197Z POST /api/auth/validate
2025-09-09T22:51:36.204Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T22:51:36.206Z GET /api/v1/devices
2025-09-09T22:52:07.848Z POST /api/auth/validate
2025-09-09T22:52:07.850Z POST /api/auth/validate
2025-09-09T22:52:07.855Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T22:52:07.859Z GET /api/v1/devices
2025-09-09T22:52:27.279Z POST /api/auth/validate
2025-09-09T22:52:27.281Z POST /api/auth/validate
2025-09-09T22:52:27.286Z GET /api/v1/admin/place-types
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T22:52:27.288Z GET /api/v1/devices
2025-09-09T22:52:32.214Z POST /api/auth/validate
2025-09-09T22:52:32.724Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
2025-09-09T22:52:34.046Z POST /api/auth/validate
2025-09-09T22:52:34.494Z POST /api/auth/validate
2025-09-09T22:52:41.589Z POST /api/auth/validate
2025-09-09T22:52:41.593Z GET /api/v1/rooms
2025-09-09T22:53:35.391Z POST /api/auth/validate
2025-09-09T22:53:35.400Z POST /api/auth/validate
2025-09-09T22:53:35.402Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T22:53:35.493Z POST /api/auth/validate
2025-09-09T22:53:35.495Z GET /api/v1/rooms
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T23:07:33.299Z POST /api/auth/validate
2025-09-09T23:07:34.102Z POST /api/v1/devices/check-status
2025-09-09T23:07:34.125Z POST /api/auth/validate
2025-09-09T23:07:34.128Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:07:34.160Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:07:41.069Z POST /api/auth/validate
2025-09-09T23:07:41.076Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-09T23:07:41.783Z POST /api/auth/validate
2025-09-09T23:07:41.786Z GET /api/v1/admin/orders
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
2025-09-09T23:07:43.812Z POST /api/auth/validate
2025-09-09T23:07:44.138Z POST /api/v1/devices/check-status
2025-09-09T23:07:44.147Z POST /api/auth/validate
2025-09-09T23:07:44.150Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:07:44.154Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-09T23:08:51.659Z POST /api/auth/validate
2025-09-09T23:08:51.662Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-09T23:08:51.666Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
2025-09-09T23:08:56.507Z POST /api/auth/validate
2025-09-09T23:08:56.512Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-09T23:08:56.515Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
ğŸ” Health check started (1/4 systems connected)
2025-09-09T23:11:34.270Z POST /api/v1/devices/check-status
2025-09-09T23:11:34.275Z POST /api/auth/validate
2025-09-09T23:11:34.278Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:11:34.294Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:11:37.873Z POST /api/auth/validate
2025-09-09T23:11:37.899Z POST /api/v1/devices/check-status
2025-09-09T23:11:37.905Z POST /api/auth/validate
2025-09-09T23:11:37.907Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:11:37.910Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:11:53.340Z POST /api/auth/validate
2025-09-09T23:11:53.342Z GET /api/v1/admin/orders
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-09T23:11:55.467Z POST /api/auth/validate
2025-09-09T23:11:55.469Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-09T23:11:57.715Z POST /api/auth/validate
2025-09-09T23:11:57.993Z POST /api/v1/devices/check-status
2025-09-09T23:11:58.007Z POST /api/auth/validate
2025-09-09T23:11:58.009Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:11:58.011Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-09T23:12:35.989Z POST /api/auth/validate
2025-09-09T23:12:35.991Z POST /api/auth/validate
2025-09-09T23:12:36.006Z GET /api/v1/rooms
2025-09-09T23:12:36.006Z GET /api/v1/room-grades
2025-09-09T23:12:36.272Z POST /api/auth/validate
2025-09-09T23:12:36.274Z POST /api/auth/validate
2025-09-09T23:12:36.278Z GET /api/v1/rooms
2025-09-09T23:12:36.284Z GET /api/v1/room-grades
2025-09-09T23:12:56.833Z POST /api/auth/validate
2025-09-09T23:12:56.845Z POST /api/auth/validate
2025-09-09T23:12:56.846Z GET /api/v1/rooms
2025-09-09T23:12:56.850Z GET /api/v1/room-grades
2025-09-09T23:12:57.581Z POST /api/auth/validate
2025-09-09T23:12:57.591Z POST /api/auth/validate
2025-09-09T23:12:57.609Z GET /api/v1/rooms
2025-09-09T23:12:57.630Z GET /api/v1/room-grades
2025-09-09T23:13:30.554Z POST /api/auth/validate
2025-09-09T23:13:30.584Z POST /api/auth/validate
2025-09-09T23:13:30.589Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T23:13:30.934Z POST /api/auth/validate
2025-09-09T23:13:30.937Z POST /api/auth/validate
2025-09-09T23:13:30.944Z GET /api/v1/rooms
2025-09-09T23:13:30.945Z GET /api/v1/room-grades
2025-09-09T23:13:36.512Z POST /api/auth/validate
2025-09-09T23:13:36.526Z GET /api/v1/room-grades
2025-09-09T23:13:53.484Z POST /api/auth/validate
2025-09-09T23:13:53.484Z POST /api/auth/validate
2025-09-09T23:13:53.490Z GET /api/v1/room-grades
2025-09-09T23:13:53.492Z GET /api/v1/rooms
2025-09-09T23:13:59.105Z POST /api/auth/validate
2025-09-09T23:13:59.112Z GET /api/v1/room-grades
2025-09-09T23:14:00.019Z POST /api/auth/validate
2025-09-09T23:14:00.021Z POST /api/auth/validate
2025-09-09T23:14:00.028Z GET /api/v1/room-grades
2025-09-09T23:14:00.028Z GET /api/v1/rooms
2025-09-09T23:14:00.249Z POST /api/v1/devices/check-status
2025-09-09T23:14:00.260Z POST /api/auth/validate
2025-09-09T23:14:00.263Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:14:00.289Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:14:02.371Z POST /api/auth/validate
2025-09-09T23:14:02.373Z GET /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
2025-09-09T23:14:34.579Z POST /api/v1/devices/check-status
2025-09-09T23:14:34.586Z POST /api/auth/validate
2025-09-09T23:14:34.591Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:14:34.598Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:14:36.551Z POST /api/auth/validate
2025-09-09T23:14:36.552Z POST /api/auth/validate
2025-09-09T23:14:36.555Z GET /api/v1/room-grades
2025-09-09T23:14:36.556Z GET /api/v1/rooms
2025-09-09T23:14:38.199Z POST /api/auth/validate
2025-09-09T23:14:38.204Z GET /api/v1/room-grades
2025-09-09T23:14:40.029Z POST /api/auth/validate
2025-09-09T23:14:40.033Z POST /api/auth/validate
2025-09-09T23:14:40.036Z GET /api/v1/rooms
2025-09-09T23:14:40.037Z GET /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T23:23:31.215Z POST /api/auth/validate
2025-09-09T23:23:31.225Z GET /api/v1/devices/client-ip
2025-09-09T23:23:32.512Z POST /api/auth/validate
2025-09-09T23:23:32.576Z POST /api/auth/validate
2025-09-09T23:23:32.587Z POST /api/auth/validate
2025-09-09T23:23:32.594Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T23:23:33.494Z POST /api/v1/devices/check-status
2025-09-09T23:23:33.507Z POST /api/auth/validate
2025-09-09T23:23:33.510Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
2025-09-09T23:23:33.518Z POST /api/auth/validate
2025-09-09T23:23:33.524Z POST /api/auth/validate
2025-09-09T23:23:33.525Z GET /api/v1/rooms
2025-09-09T23:23:33.526Z GET /api/v1/room-grades
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:23:33.540Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:24:16.631Z POST /api/auth/validate
2025-09-09T23:24:16.679Z POST /api/auth/validate
2025-09-09T23:24:16.690Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T23:24:17.089Z POST /api/auth/validate
2025-09-09T23:24:17.093Z GET /api/v1/room-grades
2025-09-09T23:24:17.095Z POST /api/auth/validate
2025-09-09T23:24:17.102Z GET /api/v1/rooms
ğŸ” Health check started (1/4 systems connected)
Connection test failed for hotel-saas: This operation was aborted
ğŸ“Š Health check completed (0/4 systems connected)
2025-09-09T23:24:40.795Z POST /api/auth/validate
2025-09-09T23:24:40.814Z POST /api/auth/validate
2025-09-09T23:24:40.821Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T23:24:41.223Z POST /api/auth/validate
2025-09-09T23:24:41.226Z POST /api/auth/validate
2025-09-09T23:24:41.235Z GET /api/v1/rooms
2025-09-09T23:24:41.236Z GET /api/v1/room-grades
2025-09-09T23:25:18.706Z POST /api/auth/validate
2025-09-09T23:25:18.721Z POST /api/auth/validate
2025-09-09T23:25:18.724Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T23:25:19.018Z POST /api/auth/validate
2025-09-09T23:25:19.021Z POST /api/auth/validate
2025-09-09T23:25:19.028Z GET /api/v1/rooms
2025-09-09T23:25:19.029Z GET /api/v1/room-grades
ğŸ” Health check started (0/4 systems connected)
ğŸ“Š Health check completed (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T23:31:12.933Z POST /api/auth/validate
2025-09-09T23:31:13.081Z POST /api/v1/devices/check-status
2025-09-09T23:31:13.091Z POST /api/auth/validate
2025-09-09T23:31:13.094Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:31:13.122Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:31:15.284Z POST /api/auth/validate
2025-09-09T23:31:15.287Z GET /api/v1/room-grades
2025-09-09T23:31:17.658Z POST /api/auth/validate
2025-09-09T23:31:17.659Z POST /api/auth/validate
2025-09-09T23:31:17.662Z GET /api/v1/room-grades
2025-09-09T23:31:17.662Z GET /api/v1/rooms
2025-09-09T23:31:19.532Z POST /api/auth/validate
2025-09-09T23:31:19.534Z GET /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T23:37:39.278Z POST /api/v1/devices/check-status
2025-09-09T23:37:39.290Z POST /api/auth/validate
2025-09-09T23:37:39.294Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:37:39.323Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-09T23:40:05.730Z POST /api/auth/validate
2025-09-09T23:40:05.831Z POST /api/v1/devices/check-status
2025-09-09T23:40:05.846Z POST /api/auth/validate
2025-09-09T23:40:05.850Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:40:05.859Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:40:12.962Z POST /api/auth/validate
2025-09-09T23:40:12.968Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-09T23:40:14.914Z POST /api/auth/validate
2025-09-09T23:40:14.921Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-09T23:40:16.884Z POST /api/auth/validate
2025-09-09T23:40:16.973Z POST /api/v1/devices/check-status
2025-09-09T23:40:16.984Z POST /api/auth/validate
2025-09-09T23:40:16.986Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:40:16.991Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-09T23:41:09.640Z POST /api/auth/validate
2025-09-09T23:41:09.651Z GET /api/v1/admin/orders
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-09T23:41:11.442Z POST /api/auth/validate
2025-09-09T23:41:11.446Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-09T23:41:13.048Z POST /api/auth/validate
2025-09-09T23:41:13.128Z POST /api/v1/devices/check-status
2025-09-09T23:41:13.137Z POST /api/auth/validate
2025-09-09T23:41:13.140Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:41:13.145Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:41:18.071Z POST /api/auth/validate
2025-09-09T23:41:18.078Z GET /api/v1/admin/orders
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
2025-09-09T23:41:20.470Z POST /api/auth/validate
2025-09-09T23:41:20.541Z POST /api/v1/devices/check-status
2025-09-09T23:41:20.551Z POST /api/auth/validate
2025-09-09T23:41:20.553Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:41:20.557Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:42:21.924Z POST /api/auth/validate
2025-09-09T23:42:21.997Z POST /api/v1/devices/check-status
2025-09-09T23:42:22.002Z POST /api/auth/validate
2025-09-09T23:42:22.005Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:42:22.008Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-09T23:42:43.555Z POST /api/v1/devices/check-status
2025-09-09T23:42:43.561Z POST /api/auth/validate
2025-09-09T23:42:43.564Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:42:43.615Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:43:34.289Z POST /api/v1/devices/check-status
2025-09-09T23:43:34.294Z POST /api/auth/validate
2025-09-09T23:43:34.297Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:43:34.303Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:43:53.119Z POST /api/auth/validate
2025-09-09T23:43:53.167Z POST /api/auth/validate
2025-09-09T23:43:53.170Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
2025-09-09T23:43:53.171Z POST /api/auth/validate
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T23:43:53.282Z POST /api/auth/validate
2025-09-09T23:43:53.285Z GET /api/v1/room-grades
2025-09-09T23:43:53.543Z POST /api/v1/devices/check-status
2025-09-09T23:43:53.548Z POST /api/auth/validate
2025-09-09T23:43:53.550Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:43:53.553Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:43:55.659Z POST /api/auth/validate
2025-09-09T23:43:55.674Z POST /api/auth/validate
2025-09-09T23:43:55.696Z POST /api/auth/validate
2025-09-09T23:43:55.699Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T23:43:55.758Z POST /api/v1/devices/check-status
2025-09-09T23:43:55.764Z POST /api/auth/validate
2025-09-09T23:43:55.765Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:43:55.769Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:43:55.778Z POST /api/auth/validate
2025-09-09T23:43:55.780Z GET /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-09T23:46:40.099Z POST /api/auth/validate
2025-09-09T23:46:40.112Z GET /api/v1/devices/client-ip
2025-09-09T23:46:40.295Z POST /api/auth/validate
2025-09-09T23:46:40.530Z POST /api/v1/devices/check-status
2025-09-09T23:46:41.050Z POST /api/auth/validate
2025-09-09T23:46:41.057Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:46:41.069Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:46:41.142Z POST /api/auth/validate
2025-09-09T23:46:41.212Z POST /api/auth/validate
2025-09-09T23:46:41.219Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T23:46:41.361Z POST /api/auth/validate
2025-09-09T23:46:41.365Z GET /api/v1/room-grades
2025-09-09T23:46:52.485Z POST /api/v1/devices/check-status
2025-09-09T23:46:52.546Z POST /api/auth/validate
2025-09-09T23:46:52.551Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:46:52.557Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:46:52.797Z POST /api/v1/devices/check-status
2025-09-09T23:46:52.818Z POST /api/auth/validate
2025-09-09T23:46:52.821Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:46:52.828Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:46:53.139Z POST /api/v1/devices/check-status
2025-09-09T23:46:53.148Z POST /api/auth/validate
2025-09-09T23:46:53.151Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:46:53.155Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:47:09.920Z POST /api/auth/validate
2025-09-09T23:47:09.924Z GET /api/v1/admin/orders
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-09T23:47:16.751Z POST /api/auth/validate
2025-09-09T23:47:16.822Z POST /api/v1/devices/check-status
2025-09-09T23:47:16.829Z POST /api/auth/validate
2025-09-09T23:47:16.833Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:47:16.838Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:47:36.671Z POST /api/auth/validate
2025-09-09T23:47:36.675Z GET /api/v1/admin/orders
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-09T23:47:41.298Z POST /api/auth/validate
2025-09-09T23:47:41.304Z GET /api/v1/room-grades
2025-09-09T23:47:41.484Z POST /api/auth/validate
2025-09-09T23:47:41.550Z POST /api/v1/devices/check-status
2025-09-09T23:47:41.557Z POST /api/auth/validate
2025-09-09T23:47:41.560Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:47:41.565Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:47:56.856Z POST /api/auth/validate
2025-09-09T23:47:56.864Z GET /api/v1/room-grades
2025-09-09T23:47:57.279Z POST /api/auth/validate
2025-09-09T23:47:57.282Z GET /api/v1/room-grades
2025-09-09T23:48:17.326Z POST /api/auth/validate
2025-09-09T23:48:17.331Z GET /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
2025-09-09T23:49:26.082Z POST /api/v1/devices/check-status
2025-09-09T23:49:26.098Z POST /api/auth/validate
2025-09-09T23:49:26.102Z POST /api/auth/validate
2025-09-09T23:49:26.103Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-09T23:49:26.105Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
2025-09-09T23:49:26.166Z POST /api/v1/devices/check-status
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:49:26.170Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:49:26.186Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:49:29.856Z POST /api/auth/validate
2025-09-09T23:49:30.201Z POST /api/v1/devices/check-status
2025-09-09T23:49:30.217Z POST /api/auth/validate
2025-09-09T23:49:30.223Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:49:30.232Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:49:31.593Z POST /api/auth/validate
2025-09-09T23:49:31.600Z GET /api/v1/devices/client-ip
2025-09-09T23:49:31.869Z POST /api/auth/validate
2025-09-09T23:49:31.883Z POST /api/auth/validate
2025-09-09T23:49:31.885Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T23:49:32.211Z POST /api/auth/validate
2025-09-09T23:49:32.213Z GET /api/v1/room-grades
2025-09-09T23:49:42.962Z POST /api/auth/validate
2025-09-09T23:49:43.009Z POST /api/v1/devices/check-status
2025-09-09T23:49:43.022Z POST /api/auth/validate
2025-09-09T23:49:43.027Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:49:43.033Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:50:03.814Z POST /api/v1/devices/check-status
2025-09-09T23:50:03.833Z POST /api/auth/validate
2025-09-09T23:50:03.838Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:50:03.843Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:50:07.573Z POST /api/auth/validate
2025-09-09T23:50:07.803Z POST /api/v1/devices/check-status
2025-09-09T23:50:07.821Z POST /api/auth/validate
2025-09-09T23:50:07.826Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:50:07.834Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:50:08.933Z POST /api/auth/validate
2025-09-09T23:50:08.950Z POST /api/auth/validate
2025-09-09T23:50:08.952Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T23:50:08.978Z POST /api/auth/validate
2025-09-09T23:50:08.983Z GET /api/v1/devices/client-ip
2025-09-09T23:50:09.251Z POST /api/auth/validate
2025-09-09T23:50:09.253Z GET /api/v1/room-grades
2025-09-09T23:50:24.771Z POST /api/v1/devices/check-status
2025-09-09T23:50:24.777Z POST /api/auth/validate
2025-09-09T23:50:24.780Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:50:24.785Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:50:25.274Z POST /api/v1/devices/check-status
2025-09-09T23:50:25.283Z POST /api/auth/validate
2025-09-09T23:50:25.285Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:50:25.289Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-09T23:51:40.272Z POST /api/v1/devices/check-status
2025-09-09T23:51:40.277Z POST /api/auth/validate
2025-09-09T23:51:40.280Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:51:40.285Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:52:01.786Z POST /api/auth/validate
2025-09-09T23:52:01.836Z POST /api/v1/devices/check-status
2025-09-09T23:52:01.848Z POST /api/auth/validate
2025-09-09T23:52:01.852Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:52:01.858Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:52:08.217Z POST /api/auth/validate
2025-09-09T23:52:08.263Z POST /api/v1/devices/check-status
2025-09-09T23:52:08.274Z POST /api/auth/validate
2025-09-09T23:52:08.278Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:52:08.283Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
Connection test failed for hotel-saas: This operation was aborted
ğŸ“Š Health check completed (0/4 systems connected)
2025-09-09T23:52:39.045Z POST /api/v1/devices/check-status
2025-09-09T23:52:39.056Z POST /api/auth/validate
2025-09-09T23:52:39.059Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:52:39.066Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:52:39.368Z POST /api/v1/devices/check-status
2025-09-09T23:52:39.376Z POST /api/auth/validate
2025-09-09T23:52:39.380Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:52:39.387Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:53:09.750Z POST /api/auth/validate
2025-09-09T23:53:09.767Z POST /api/auth/validate
2025-09-09T23:53:09.770Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T23:53:10.134Z POST /api/auth/validate
2025-09-09T23:53:10.136Z GET /api/v1/room-grades
2025-09-09T23:53:13.623Z POST /api/auth/validate
2025-09-09T23:53:13.624Z POST /api/auth/validate
2025-09-09T23:53:13.626Z GET /api/v1/room-grades
2025-09-09T23:53:13.627Z GET /api/v1/rooms
2025-09-09T23:53:18.502Z POST /api/auth/validate
2025-09-09T23:53:18.505Z GET /api/v1/room-grades
2025-09-09T23:53:28.062Z POST /api/auth/validate
2025-09-09T23:53:28.063Z POST /api/auth/validate
2025-09-09T23:53:28.066Z GET /api/v1/room-grades
2025-09-09T23:53:28.067Z GET /api/v1/room-grades
ğŸ” Health check started (0/4 systems connected)
ğŸ“Š Health check completed (1/4 systems connected)
2025-09-09T23:54:42.917Z POST /api/v1/devices/check-status
2025-09-09T23:54:42.964Z POST /api/auth/validate
2025-09-09T23:54:42.979Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:54:43.011Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:54:44.749Z POST /api/v1/devices/check-status
2025-09-09T23:54:44.942Z POST /api/auth/validate
2025-09-09T23:54:45.030Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:54:45.037Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:55:04.018Z POST /api/auth/validate
2025-09-09T23:55:04.082Z POST /api/v1/devices/check-status
2025-09-09T23:55:04.112Z POST /api/auth/validate
2025-09-09T23:55:04.120Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:55:04.126Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:55:23.215Z POST /api/v1/devices/check-status
2025-09-09T23:55:23.231Z POST /api/auth/validate
2025-09-09T23:55:23.244Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:55:23.253Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:55:24.269Z POST /api/v1/devices/check-status
2025-09-09T23:55:24.288Z POST /api/auth/validate
2025-09-09T23:55:24.293Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:55:24.300Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:55:40.347Z POST /api/v1/devices/check-status
2025-09-09T23:55:40.369Z POST /api/auth/validate
2025-09-09T23:55:40.380Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-09T23:55:40.384Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-09T23:56:53.851Z POST /api/auth/validate
2025-09-09T23:56:53.855Z POST /api/v1/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
2025-09-09T23:59:01.911Z POST /api/auth/validate
2025-09-09T23:59:01.963Z POST /api/v1/devices/check-status
2025-09-09T23:59:01.987Z POST /api/auth/validate
2025-09-09T23:59:02.035Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:59:02.043Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:59:08.413Z POST /api/auth/validate
2025-09-09T23:59:08.419Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-09T23:59:09.524Z POST /api/auth/validate
2025-09-09T23:59:09.558Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
2025-09-09T23:59:09.573Z POST /api/auth/validate
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-09T23:59:09.581Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-09T23:59:09.606Z POST /api/auth/validate
2025-09-09T23:59:09.608Z POST /api/auth/validate
2025-09-09T23:59:09.608Z GET /api/v1/admin/orders
2025-09-09T23:59:09.612Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
2025-09-09T23:59:09.615Z GET /api/v1/admin/front-desk/accounting
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."transactions"."id" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."transactions"."id", "public"."transactions"."tenantId", "public"."transactions"."invoiceId", "public"."transactions"."paymentId", "public"."transactions"."type", "public"."transactions"."amount", "public"."transactions"."taxAmount", "public"."transactions"."totalAmount", "public"."transactions"."status", "public"."transactions"."description", "public"."transactions"."reference", "public"."transactions"."metadata", "public"."transactions"."createdAt", "public"."transactions"."updatedAt", "public"."transactions"."createdBy", "public"."transactions"."isDeleted", "public"."transactions"."deletedAt", "public"."transactions"."deletedBy" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) ORDER BY "public"."transactions"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT COUNT("public"."transactions"."id"), "public"."transactions"."status" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) GROUP BY "public"."transactions"."status" OFFSET $3
prisma:query SELECT COUNT("public"."payments"."id"), "public"."payments"."paymentMethod" FROM "public"."payments" WHERE ("public"."payments"."tenantId" = $1 AND "public"."payments"."isDeleted" = $2) GROUP BY "public"."payments"."paymentMethod" OFFSET $3
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT SUM("totalAmount") FROM (SELECT "public"."transactions"."totalAmount" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
[32m[2025-09-09T23:59:09.706Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ä¼šè¨ˆå–å¼•ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-09T23:59:09.708Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:00:24.284Z POST /api/auth/validate
2025-09-10T00:00:24.304Z GET /api/v1/room-grades
2025-09-10T00:00:25.162Z POST /api/auth/validate
2025-09-10T00:00:25.173Z GET /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
2025-09-10T00:00:39.183Z POST /api/auth/validate
2025-09-10T00:00:39.190Z GET /api/v1/room-grades
2025-09-10T00:00:57.955Z POST /api/v1/devices/check-status
2025-09-10T00:00:57.970Z POST /api/auth/validate
2025-09-10T00:00:57.980Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T00:00:58.038Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:01:01.274Z POST /api/auth/validate
2025-09-10T00:01:01.289Z GET /api/v1/room-grades
2025-09-10T00:01:02.159Z POST /api/auth/validate
2025-09-10T00:01:02.168Z GET /api/v1/room-grades
2025-09-10T00:02:08.177Z POST /api/v1/devices/check-status
2025-09-10T00:02:08.186Z POST /api/auth/validate
2025-09-10T00:02:08.192Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T00:02:08.198Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:02:28.169Z POST /api/v1/devices/check-status
2025-09-10T00:02:28.755Z POST /api/auth/validate
2025-09-10T00:02:28.806Z POST /api/auth/validate
2025-09-10T00:02:28.813Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T00:02:29.672Z POST /api/auth/validate
2025-09-10T00:02:29.679Z GET /api/v1/room-grades
2025-09-10T00:02:29.779Z POST /api/auth/validate
2025-09-10T00:02:29.860Z POST /api/v1/devices/check-status
2025-09-10T00:02:29.877Z POST /api/auth/validate
2025-09-10T00:02:29.882Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T00:02:29.890Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:02:30.300Z POST /api/auth/validate
2025-09-10T00:02:30.304Z GET /api/v1/devices/client-ip
ğŸ” Health check started (1/4 systems connected)
2025-09-10T00:02:48.945Z POST /api/v1/devices/check-status
2025-09-10T00:02:48.959Z POST /api/auth/validate
2025-09-10T00:02:48.964Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T00:02:48.972Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:02:49.172Z POST /api/v1/devices/check-status
2025-09-10T00:02:49.379Z POST /api/auth/validate
2025-09-10T00:02:49.381Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T00:02:49.387Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:02:52.262Z POST /api/auth/validate
2025-09-10T00:02:52.306Z POST /api/auth/validate
2025-09-10T00:02:52.311Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T00:02:52.675Z POST /api/auth/validate
2025-09-10T00:02:52.681Z GET /api/v1/room-grades
2025-09-10T00:02:53.919Z POST /api/auth/validate
2025-09-10T00:02:53.999Z POST /api/v1/devices/check-status
2025-09-10T00:02:54.016Z POST /api/auth/validate
2025-09-10T00:02:54.023Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T00:02:54.034Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:02:54.412Z POST /api/auth/validate
2025-09-10T00:02:54.417Z GET /api/v1/devices/client-ip
2025-09-10T00:03:07.894Z POST /api/auth/validate
2025-09-10T00:03:07.982Z POST /api/v1/devices/check-status
2025-09-10T00:03:08.007Z POST /api/auth/validate
2025-09-10T00:03:08.011Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T00:03:08.017Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:03:08.515Z POST /api/auth/validate
2025-09-10T00:03:08.520Z GET /api/v1/devices/client-ip
2025-09-10T00:03:08.709Z POST /api/auth/validate
2025-09-10T00:03:08.721Z POST /api/auth/validate
2025-09-10T00:03:08.723Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T00:03:09.030Z POST /api/auth/validate
2025-09-10T00:03:09.032Z GET /api/v1/room-grades
2025-09-10T00:03:10.493Z POST /api/auth/validate
2025-09-10T00:03:10.594Z POST /api/v1/devices/check-status
2025-09-10T00:03:10.607Z POST /api/auth/validate
2025-09-10T00:03:10.609Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T00:03:10.614Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:03:11.153Z POST /api/auth/validate
2025-09-10T00:03:11.157Z GET /api/v1/devices/client-ip
2025-09-10T00:03:11.339Z POST /api/auth/validate
2025-09-10T00:03:11.349Z POST /api/auth/validate
2025-09-10T00:03:11.350Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T00:03:11.656Z POST /api/auth/validate
2025-09-10T00:03:11.658Z GET /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
2025-09-10T00:04:48.066Z POST /api/auth/validate
2025-09-10T00:04:48.107Z POST /api/v1/devices/check-status
2025-09-10T00:04:48.117Z POST /api/auth/validate
2025-09-10T00:04:48.122Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T00:04:48.322Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-10T00:06:55.293Z POST /api/v1/devices/check-status
2025-09-10T00:06:55.302Z POST /api/auth/validate
2025-09-10T00:06:55.307Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T00:06:55.315Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:06:56.146Z POST /api/v1/devices/check-status
2025-09-10T00:06:56.155Z POST /api/auth/validate
2025-09-10T00:06:56.157Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T00:06:56.163Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:07:20.170Z POST /api/auth/validate
2025-09-10T00:07:20.175Z GET /api/v1/room-grades
2025-09-10T00:07:38.190Z POST /api/auth/validate
2025-09-10T00:07:38.201Z GET /api/v1/room-grades
2025-09-10T00:07:43.538Z POST /api/auth/validate
2025-09-10T00:07:43.704Z POST /api/v1/devices/check-status
2025-09-10T00:07:43.726Z POST /api/auth/validate
2025-09-10T00:07:43.732Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T00:07:43.751Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:07:43.923Z POST /api/auth/validate
2025-09-10T00:07:43.930Z GET /api/v1/devices/client-ip
2025-09-10T00:07:44.239Z POST /api/auth/validate
2025-09-10T00:07:44.258Z POST /api/auth/validate
2025-09-10T00:07:44.262Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T00:07:44.580Z POST /api/auth/validate
2025-09-10T00:07:44.582Z GET /api/v1/room-grades
2025-09-10T00:07:57.209Z POST /api/auth/validate
2025-09-10T00:07:57.213Z GET /api/v1/room-grades
2025-09-10T00:08:01.655Z POST /api/auth/validate
2025-09-10T00:08:01.739Z POST /api/v1/devices/check-status
2025-09-10T00:08:01.757Z POST /api/auth/validate
2025-09-10T00:08:01.762Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T00:08:01.768Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:08:02.487Z POST /api/auth/validate
2025-09-10T00:08:02.493Z GET /api/v1/devices/client-ip
2025-09-10T00:08:02.585Z POST /api/auth/validate
2025-09-10T00:08:02.605Z POST /api/auth/validate
2025-09-10T00:08:02.609Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T00:08:02.916Z POST /api/auth/validate
2025-09-10T00:08:02.917Z GET /api/v1/room-grades
2025-09-10T00:08:16.649Z POST /api/auth/validate
2025-09-10T00:08:16.653Z GET /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
2025-09-10T00:08:34.767Z POST /api/auth/validate
2025-09-10T00:08:34.771Z GET /api/v1/room-grades
2025-09-10T00:09:07.387Z POST /api/auth/validate
2025-09-10T00:09:07.388Z POST /api/auth/validate
2025-09-10T00:09:07.390Z GET /api/v1/room-grades
2025-09-10T00:09:07.393Z GET /api/v1/room-grades
2025-09-10T00:09:11.484Z POST /api/auth/validate
2025-09-10T00:09:11.564Z POST /api/v1/devices/check-status
2025-09-10T00:09:11.579Z POST /api/auth/validate
2025-09-10T00:09:11.585Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T00:09:11.593Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:09:12.254Z POST /api/auth/validate
2025-09-10T00:09:12.259Z GET /api/v1/devices/client-ip
2025-09-10T00:09:12.369Z POST /api/auth/validate
2025-09-10T00:09:12.380Z POST /api/auth/validate
2025-09-10T00:09:12.382Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T00:09:12.686Z POST /api/auth/validate
2025-09-10T00:09:12.688Z GET /api/v1/room-grades
2025-09-10T00:09:25.738Z POST /api/auth/validate
2025-09-10T00:09:25.741Z GET /api/v1/room-grades
2025-09-10T00:09:29.874Z POST /api/auth/validate
2025-09-10T00:09:29.959Z POST /api/v1/devices/check-status
2025-09-10T00:09:29.975Z POST /api/auth/validate
2025-09-10T00:09:29.980Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T00:09:29.990Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:09:30.661Z POST /api/auth/validate
2025-09-10T00:09:30.665Z GET /api/v1/devices/client-ip
2025-09-10T00:09:30.728Z POST /api/auth/validate
2025-09-10T00:09:30.739Z POST /api/auth/validate
2025-09-10T00:09:30.740Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T00:09:31.040Z POST /api/auth/validate
2025-09-10T00:09:31.041Z GET /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T00:12:44.291Z POST /api/auth/validate
2025-09-10T00:12:44.298Z POST /api/auth/validate
2025-09-10T00:12:44.300Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T00:12:44.619Z POST /api/auth/validate
2025-09-10T00:12:44.620Z GET /api/v1/room-grades
2025-09-10T00:13:29.531Z POST /api/auth/validate
2025-09-10T00:13:29.557Z POST /api/v1/devices/check-status
2025-09-10T00:13:29.561Z POST /api/auth/validate
2025-09-10T00:13:29.564Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T00:13:29.589Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:13:33.770Z POST /api/auth/validate
2025-09-10T00:13:33.775Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-10T00:13:33.990Z POST /api/auth/validate
2025-09-10T00:13:33.992Z GET /api/v1/admin/orders
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
2025-09-10T00:13:35.972Z POST /api/auth/validate
2025-09-10T00:13:35.996Z POST /api/v1/devices/check-status
2025-09-10T00:13:35.999Z POST /api/auth/validate
2025-09-10T00:13:35.999Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T00:13:36.003Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:13:46.678Z POST /api/auth/validate
2025-09-10T00:13:46.682Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T00:13:46.685Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
2025-09-10T00:13:50.472Z POST /api/auth/validate
2025-09-10T00:13:50.475Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T00:13:50.477Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:13:58.550Z POST /api/auth/validate
2025-09-10T00:13:58.555Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-10T00:13:58.763Z POST /api/auth/validate
2025-09-10T00:13:58.764Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-10T00:14:00.693Z POST /api/auth/validate
2025-09-10T00:14:00.694Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T00:14:00.697Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:14:00.698Z POST /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T00:14:00.700Z PUT /api/v1/admin/front-desk/rooms/9d3e5e44-3bd4-4d5d-899d-a881c7023738
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."id" = $1 AND "public"."rooms"."tenantId" = $2 AND "public"."rooms"."isDeleted" = $3) LIMIT $4 OFFSET $5
prisma:query UPDATE "public"."rooms" SET "status" = $1, "notes" = $2, "updatedAt" = $3 WHERE ("public"."rooms"."id" = $4 AND 1=1) RETURNING "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy"
prisma:query INSERT INTO "public"."system_event" ("id","tenant_id","user_id","event_type","source_system","target_system","entity_type","entity_id","action","event_data","created_at","status") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status"
[32m[2025-09-10T00:14:00.717Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤çŠ¶æ…‹æ›´æ–°å®Œäº†
2025-09-10T00:14:01.014Z POST /api/auth/validate
2025-09-10T00:14:01.038Z POST /api/v1/devices/check-status
2025-09-10T00:14:01.042Z POST /api/auth/validate
2025-09-10T00:14:01.043Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T00:14:01.047Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:14:04.103Z POST /api/auth/validate
2025-09-10T00:14:04.107Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
[32m[2025-09-10T00:14:04.114Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:14:04.151Z POST /api/auth/validate
2025-09-10T00:14:04.154Z GET /api/v1/room-grades
2025-09-10T00:14:05.156Z POST /api/auth/validate
2025-09-10T00:14:05.157Z GET /api/v1/room-grades
2025-09-10T00:14:12.453Z POST /api/auth/validate
2025-09-10T00:14:12.457Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T00:14:12.461Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:14:12.464Z POST /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T00:14:12.468Z PUT /api/v1/admin/front-desk/rooms/9d3e5e44-3bd4-4d5d-899d-a881c7023738
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."id" = $1 AND "public"."rooms"."tenantId" = $2 AND "public"."rooms"."isDeleted" = $3) LIMIT $4 OFFSET $5
prisma:query UPDATE "public"."rooms" SET "status" = $1, "notes" = $2, "updatedAt" = $3 WHERE ("public"."rooms"."id" = $4 AND 1=1) RETURNING "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy"
prisma:query INSERT INTO "public"."system_event" ("id","tenant_id","user_id","event_type","source_system","target_system","entity_type","entity_id","action","event_data","created_at","status") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status"
[32m[2025-09-10T00:14:12.475Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤çŠ¶æ…‹æ›´æ–°å®Œäº†
2025-09-10T00:14:12.495Z POST /api/auth/validate
2025-09-10T00:14:12.498Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T00:14:12.504Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:14:14.009Z POST /api/auth/validate
2025-09-10T00:14:14.010Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T00:14:14.013Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
ğŸ” Health check started (1/4 systems connected)
2025-09-10T00:15:04.294Z POST /api/auth/validate
2025-09-10T00:15:04.299Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T00:15:04.303Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:15:07.861Z POST /api/auth/validate
2025-09-10T00:15:07.865Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T00:15:07.868Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:15:09.943Z POST /api/auth/validate
2025-09-10T00:15:09.947Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T00:15:09.952Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-10T00:17:12.726Z POST /api/auth/validate
2025-09-10T00:17:12.729Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T00:17:12.732Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T00:18:17.812Z POST /api/auth/validate
2025-09-10T00:18:17.816Z POST /api/v1/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T00:20:36.385Z POST /api/auth/validate
2025-09-10T00:20:36.389Z POST /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T00:25:22.318Z POST /api/auth/validate
2025-09-10T00:25:22.330Z POST /api/auth/validate
2025-09-10T00:25:22.332Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T00:25:22.579Z POST /api/auth/validate
2025-09-10T00:25:22.584Z GET /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ“Š Health check completed (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
2025-09-10T05:45:42.251Z POST /api/auth/validate
2025-09-10T05:45:42.358Z POST /api/v1/devices/check-status
2025-09-10T05:45:42.424Z POST /api/auth/validate
2025-09-10T05:45:42.439Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T05:45:42.479Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T05:45:43.844Z POST /api/auth/validate
2025-09-10T05:45:43.867Z POST /api/auth/validate
2025-09-10T05:45:43.872Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T05:45:44.309Z POST /api/auth/validate
2025-09-10T05:45:44.312Z POST /api/v1/room-grades
2025-09-10T05:45:44.400Z POST /api/auth/validate
2025-09-10T05:45:44.405Z GET /api/v1/room-grades
2025-09-10T05:45:55.035Z POST /api/auth/validate
2025-09-10T05:45:55.067Z POST /api/auth/validate
2025-09-10T05:45:55.072Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T05:45:55.169Z POST /api/auth/validate
2025-09-10T05:45:55.176Z GET /api/v1/room-grades
2025-09-10T05:45:57.250Z POST /api/auth/validate
2025-09-10T05:45:57.466Z POST /api/v1/devices/check-status
2025-09-10T05:45:57.474Z POST /api/auth/validate
2025-09-10T05:45:57.477Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T05:45:57.485Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (0/4 systems connected)
ğŸ“Š Health check completed (1/4 systems connected)
2025-09-10T05:46:30.429Z POST /api/auth/validate
2025-09-10T05:46:30.435Z POST /api/v1/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T05:46:36.665Z POST /api/auth/validate
2025-09-10T05:46:36.672Z POST /api/v1/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T05:46:58.799Z POST /api/auth/validate
2025-09-10T05:46:58.812Z POST /api/auth/validate
2025-09-10T05:46:58.815Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T05:46:58.925Z POST /api/auth/validate
2025-09-10T05:46:58.930Z GET /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
2025-09-10T05:49:10.666Z POST /api/auth/validate
2025-09-10T05:49:10.669Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T05:49:10.675Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T06:24:55.580Z POST /api/auth/validate
2025-09-10T06:24:55.610Z POST /api/auth/validate
2025-09-10T06:24:55.615Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T06:24:56.479Z POST /api/auth/validate
2025-09-10T06:24:56.483Z GET /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T06:25:22.850Z POST /api/auth/validate
2025-09-10T06:25:22.855Z POST /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T06:25:37.786Z POST /api/auth/validate
2025-09-10T06:25:37.798Z POST /api/auth/validate
2025-09-10T06:25:37.802Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T06:25:38.106Z POST /api/auth/validate
2025-09-10T06:25:38.110Z GET /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
2025-09-10T06:28:08.990Z POST /api/auth/validate
2025-09-10T06:28:09.274Z POST /api/v1/devices/check-status
2025-09-10T06:28:09.330Z POST /api/auth/validate
2025-09-10T06:28:09.342Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T06:28:09.383Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T06:28:10.552Z POST /api/auth/validate
2025-09-10T06:28:10.581Z POST /api/auth/validate
2025-09-10T06:28:10.586Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T06:28:10.936Z POST /api/auth/validate
2025-09-10T06:28:10.941Z GET /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T06:28:11.682Z POST /api/auth/validate
2025-09-10T06:28:11.689Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T06:28:11.697Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-10T06:29:10.106Z POST /api/auth/validate
2025-09-10T06:29:10.116Z POST /api/v1/admin/room-grades
2025-09-10T06:29:21.554Z POST /api/auth/validate
2025-09-10T06:29:21.648Z POST /api/v1/devices/check-status
2025-09-10T06:29:21.657Z POST /api/auth/validate
2025-09-10T06:29:21.662Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T06:29:21.668Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T06:29:27.860Z POST /api/auth/validate
2025-09-10T06:29:27.877Z POST /api/auth/validate
2025-09-10T06:29:27.881Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T06:29:28.553Z POST /api/auth/validate
2025-09-10T06:29:28.556Z GET /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T06:29:59.592Z POST /api/auth/validate
2025-09-10T06:29:59.596Z POST /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T06:30:01.094Z POST /api/auth/validate
2025-09-10T06:30:01.097Z POST /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T06:30:01.246Z POST /api/auth/validate
2025-09-10T06:30:01.247Z POST /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T06:30:01.379Z POST /api/auth/validate
2025-09-10T06:30:01.380Z POST /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T06:30:01.512Z POST /api/auth/validate
2025-09-10T06:30:01.514Z POST /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T06:30:01.628Z POST /api/auth/validate
2025-09-10T06:30:01.629Z POST /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T06:30:01.763Z POST /api/auth/validate
2025-09-10T06:30:01.764Z POST /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T06:30:01.860Z POST /api/auth/validate
2025-09-10T06:30:01.862Z POST /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T06:30:01.978Z POST /api/auth/validate
2025-09-10T06:30:01.980Z POST /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T06:30:02.110Z POST /api/auth/validate
2025-09-10T06:30:02.112Z POST /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T06:38:55.594Z POST /api/auth/validate
2025-09-10T06:38:55.612Z POST /api/auth/validate
2025-09-10T06:38:55.616Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T06:38:55.978Z POST /api/auth/validate
2025-09-10T06:38:55.980Z GET /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T06:39:05.210Z POST /api/auth/validate
2025-09-10T06:39:05.221Z POST /api/auth/validate
2025-09-10T06:39:05.224Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T06:39:05.337Z POST /api/auth/validate
2025-09-10T06:39:05.341Z GET /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T06:39:53.208Z POST /api/auth/validate
2025-09-10T06:39:53.245Z POST /api/v1/devices/check-status
2025-09-10T06:39:53.254Z POST /api/auth/validate
2025-09-10T06:39:53.259Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T06:39:53.287Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T06:39:55.287Z POST /api/auth/validate
2025-09-10T06:39:55.290Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T06:39:55.293Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T06:40:00.364Z POST /api/auth/validate
2025-09-10T06:40:00.384Z POST /api/v1/devices/check-status
2025-09-10T06:40:00.388Z POST /api/auth/validate
2025-09-10T06:40:00.392Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T06:40:00.398Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T06:40:02.284Z POST /api/auth/validate
2025-09-10T06:40:02.287Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T06:40:02.290Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T06:40:07.528Z POST /api/auth/validate
2025-09-10T06:40:07.530Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T06:40:07.532Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T06:40:14.868Z POST /api/auth/validate
2025-09-10T06:40:14.872Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T06:40:14.878Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-10T06:42:14.014Z POST /api/v1/devices/check-status
2025-09-10T06:42:14.058Z POST /api/auth/validate
2025-09-10T06:42:14.068Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T06:42:14.071Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ“Š Health check completed (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
2025-09-10T06:48:23.176Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
2025-09-10T06:48:28.033Z GET /api/v1/admin/front-desk/rooms
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
2025-09-10T06:54:10.092Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-10T06:54:10.130Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-10T06:54:10.329Z POST /api/auth/validate
2025-09-10T06:54:10.337Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T06:54:11.202Z POST /api/auth/validate
2025-09-10T06:54:11.205Z POST /api/auth/validate
2025-09-10T06:54:11.211Z POST /api/auth/validate
2025-09-10T06:54:11.217Z POST /api/auth/validate
2025-09-10T06:54:11.225Z GET /api/v1/admin/orders/monthly-count
2025-09-10T06:54:11.226Z GET /api/v1/admin/summary
2025-09-10T06:54:11.226Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T06:54:11.227Z GET /api/v1/admin/orders
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
2025-09-10T07:25:19.925Z POST /api/auth/validate
2025-09-10T07:25:19.946Z GET /api/v1/devices/client-ip
2025-09-10T07:25:20.156Z POST /api/auth/validate
2025-09-10T07:25:20.195Z POST /api/auth/validate
2025-09-10T07:25:20.200Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T07:25:21.403Z POST /api/auth/validate
2025-09-10T07:25:21.411Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
2025-09-10T07:25:21.445Z POST /api/auth/validate
2025-09-10T07:25:21.449Z POST /api/auth/validate
2025-09-10T07:25:21.462Z GET /api/v1/admin/orders
2025-09-10T07:25:21.466Z POST /api/auth/validate
2025-09-10T07:25:21.467Z GET /api/v1/admin/summary
2025-09-10T07:25:21.481Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
2025-09-10T07:25:22.841Z POST /api/auth/validate
2025-09-10T07:25:22.896Z POST /api/auth/validate
2025-09-10T07:25:22.902Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T07:25:24.497Z POST /api/auth/validate
2025-09-10T07:25:24.503Z GET /api/v1/room-grades
2025-09-10T07:25:25.622Z POST /api/auth/validate
2025-09-10T07:25:25.628Z GET /api/v1/room-grades
2025-09-10T07:25:25.640Z POST /api/auth/validate
2025-09-10T07:25:25.652Z GET /api/v1/rooms
2025-09-10T07:25:35.069Z POST /api/auth/validate
2025-09-10T07:25:35.112Z POST /api/auth/validate
2025-09-10T07:25:35.117Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T07:25:35.542Z POST /api/auth/validate
2025-09-10T07:25:35.544Z POST /api/auth/validate
2025-09-10T07:25:35.548Z POST /api/auth/validate
2025-09-10T07:25:35.553Z POST /api/auth/validate
2025-09-10T07:25:35.557Z GET /api/v1/admin/orders/monthly-count
2025-09-10T07:25:35.558Z GET /api/v1/admin/summary
2025-09-10T07:25:35.559Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T07:25:35.560Z GET /api/v1/admin/orders
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
2025-09-10T07:25:37.605Z POST /api/auth/validate
2025-09-10T07:25:37.610Z GET /api/v1/devices/client-ip
2025-09-10T07:25:37.701Z POST /api/auth/validate
2025-09-10T07:25:37.720Z POST /api/auth/validate
2025-09-10T07:25:37.722Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T07:25:38.070Z POST /api/auth/validate
2025-09-10T07:25:38.073Z GET /api/v1/room-grades
2025-09-10T07:25:44.936Z POST /api/auth/validate
2025-09-10T07:25:44.944Z GET /api/v1/admin/orders
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
2025-09-10T07:25:44.950Z POST /api/auth/validate
2025-09-10T07:25:44.952Z GET /api/v1/admin/front-desk/accounting
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T07:25:44.953Z POST /api/auth/validate
prisma:query SELECT "public"."transactions"."id", "public"."transactions"."tenantId", "public"."transactions"."invoiceId", "public"."transactions"."paymentId", "public"."transactions"."type", "public"."transactions"."amount", "public"."transactions"."taxAmount", "public"."transactions"."totalAmount", "public"."transactions"."status", "public"."transactions"."description", "public"."transactions"."reference", "public"."transactions"."metadata", "public"."transactions"."createdAt", "public"."transactions"."updatedAt", "public"."transactions"."createdBy", "public"."transactions"."isDeleted", "public"."transactions"."deletedAt", "public"."transactions"."deletedBy" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) ORDER BY "public"."transactions"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT COUNT(*) FROM (SELECT "public"."transactions"."id" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) OFFSET $5) AS "sub"
2025-09-10T07:25:44.956Z POST /api/auth/validate
prisma:query SELECT 1
2025-09-10T07:25:44.957Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT("public"."transactions"."id"), "public"."transactions"."status" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) GROUP BY "public"."transactions"."status" OFFSET $3
prisma:query SELECT SUM("totalAmount") FROM (SELECT "public"."transactions"."totalAmount" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
2025-09-10T07:25:44.958Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT COUNT("public"."payments"."id"), "public"."payments"."paymentMethod" FROM "public"."payments" WHERE ("public"."payments"."tenantId" = $1 AND "public"."payments"."isDeleted" = $2) GROUP BY "public"."payments"."paymentMethod" OFFSET $3
prisma:query SELECT 1
[32m[2025-09-10T07:25:44.959Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ä¼šè¨ˆå–å¼•ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T07:25:44.961Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T07:25:44.963Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T07:25:46.616Z POST /api/v1/devices/check-status
2025-09-10T07:25:46.635Z POST /api/auth/validate
2025-09-10T07:25:46.638Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T07:25:46.646Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T07:25:49.412Z POST /api/auth/validate
2025-09-10T07:25:49.417Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T07:25:49.421Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (0/4 systems connected)
ğŸ“Š Health check completed (1/4 systems connected)
2025-09-10T07:27:28.385Z POST /api/auth/validate
2025-09-10T07:27:28.399Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T07:27:28.403Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T07:27:33.769Z POST /api/auth/validate
2025-09-10T07:27:33.774Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T07:27:33.776Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T07:30:35.808Z POST /api/auth/validate
2025-09-10T07:30:35.814Z POST /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T07:30:52.243Z POST /api/auth/validate
2025-09-10T07:30:52.257Z POST /api/auth/validate
2025-09-10T07:30:52.263Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T07:30:52.607Z POST /api/auth/validate
2025-09-10T07:30:52.610Z GET /api/v1/room-grades
2025-09-10T07:31:18.532Z POST /api/auth/validate
2025-09-10T07:31:18.537Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
[32m[2025-09-10T07:31:18.587Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-10T07:34:16.717Z POST /api/auth/validate
2025-09-10T07:34:16.727Z GET /api/v1/admin/orders
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
2025-09-10T07:34:19.555Z POST /api/auth/validate
2025-09-10T07:34:19.565Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-10T07:34:25.319Z POST /api/auth/validate
2025-09-10T07:34:25.941Z POST /api/v1/devices/check-status
2025-09-10T07:34:25.972Z POST /api/auth/validate
2025-09-10T07:34:25.976Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T07:34:25.982Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-10T07:34:58.859Z POST /api/auth/validate
2025-09-10T07:34:58.860Z POST /api/auth/validate
2025-09-10T07:34:58.865Z GET /api/v1/room-grades
2025-09-10T07:34:58.866Z GET /api/v1/rooms
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T07:39:50.043Z POST /api/auth/validate
2025-09-10T07:39:50.053Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE "public"."system_event"."tenant_id" = $1 ORDER BY "public"."system_event"."created_at" DESC LIMIT $2 OFFSET $3
[32m[2025-09-10T07:39:50.108Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T07:47:22.788Z POST /api/auth/validate
2025-09-10T07:47:22.869Z POST /api/v1/devices/check-status
2025-09-10T07:47:22.888Z POST /api/auth/validate
2025-09-10T07:47:22.894Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T07:47:22.940Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-10T07:48:55.949Z POST /api/auth/validate
2025-09-10T07:48:55.967Z POST /api/auth/validate
2025-09-10T07:48:55.971Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T07:48:56.110Z POST /api/auth/validate
2025-09-10T07:48:56.116Z POST /api/auth/validate
2025-09-10T07:48:56.133Z GET /api/v1/room-grades
2025-09-10T07:48:56.137Z GET /api/v1/rooms
2025-09-10T07:49:01.839Z POST /api/auth/validate
2025-09-10T07:49:01.845Z GET /api/v1/room-grades
2025-09-10T07:49:46.663Z POST /api/auth/validate
2025-09-10T07:49:46.670Z POST /api/v1/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T07:50:15.969Z POST /api/auth/validate
2025-09-10T07:50:15.983Z POST /api/auth/validate
2025-09-10T07:50:15.990Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T07:50:16.119Z POST /api/auth/validate
2025-09-10T07:50:16.124Z GET /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T07:57:28.479Z POST /api/auth/validate
2025-09-10T07:57:28.489Z POST /api/v1/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
2025-09-10T07:59:09.655Z GET /api/v1/menu/categories
2025-09-10T07:59:09.655Z GET /api/v1/menu/items
2025-09-10T07:59:23.157Z POST /api/auth/validate
2025-09-10T07:59:23.189Z POST /api/auth/validate
2025-09-10T07:59:23.197Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T07:59:23.739Z POST /api/auth/validate
2025-09-10T07:59:23.743Z GET /api/v1/room-grades
2025-09-10T07:59:42.647Z POST /api/auth/validate
2025-09-10T07:59:42.678Z POST /api/auth/validate
2025-09-10T07:59:42.690Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T07:59:42.929Z POST /api/auth/validate
2025-09-10T07:59:42.934Z GET /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T08:03:43.508Z POST /api/auth/validate
2025-09-10T08:03:43.533Z POST /api/auth/validate
2025-09-10T08:03:43.541Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T08:03:43.775Z POST /api/auth/validate
2025-09-10T08:03:43.781Z GET /api/v1/room-grades
2025-09-10T08:04:06.072Z POST /api/auth/validate
2025-09-10T08:04:06.078Z POST /api/v1/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
2025-09-10T08:06:01.352Z POST /api/auth/validate
2025-09-10T08:06:01.594Z POST /api/v1/devices/check-status
2025-09-10T08:06:01.625Z POST /api/auth/validate
2025-09-10T08:06:01.634Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T08:06:01.667Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T08:06:06.690Z POST /api/auth/validate
2025-09-10T08:06:06.698Z GET /api/v1/menu/categories
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T08:06:06.699Z GET /api/v1/menu/items
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T08:08:45.011Z GET /api/v1/order/menu
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 503
ğŸ“Š Health check completed (0/4 systems connected)
2025-09-10T08:12:52.605Z POST /api/auth/validate
2025-09-10T08:12:52.660Z POST /api/auth/validate
2025-09-10T08:12:52.674Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T08:12:53.499Z POST /api/auth/validate
2025-09-10T08:12:53.505Z GET /api/v1/room-grades
ğŸ” Health check started (0/4 systems connected)
ğŸ“Š Health check completed (1/4 systems connected)
2025-09-10T08:15:28.022Z POST /api/auth/validate
2025-09-10T08:15:28.051Z POST /api/auth/validate
2025-09-10T08:15:28.055Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T08:15:28.896Z POST /api/auth/validate
2025-09-10T08:15:28.900Z GET /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
2025-09-10T08:18:26.942Z POST /api/auth/validate
ğŸ” Health check started (1/4 systems connected)
2025-09-10T08:18:27.300Z POST /api/v1/devices/check-status
2025-09-10T08:18:27.322Z POST /api/auth/validate
2025-09-10T08:18:27.326Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T08:18:27.371Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T08:18:29.655Z POST /api/auth/validate
2025-09-10T08:18:29.970Z POST /api/v1/devices/check-status
2025-09-10T08:18:29.981Z POST /api/auth/validate
2025-09-10T08:18:29.985Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T08:18:29.993Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T08:18:31.169Z POST /api/auth/validate
2025-09-10T08:18:31.176Z GET /api/v1/order/menu
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T08:18:43.130Z POST /api/auth/validate
2025-09-10T08:18:43.137Z GET /api/v1/order/menu
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T08:18:54.242Z POST /api/auth/validate
2025-09-10T08:18:54.244Z GET /api/v1/order/menu
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T08:19:21.869Z POST /api/auth/validate
2025-09-10T08:19:22.182Z POST /api/v1/devices/check-status
2025-09-10T08:19:22.196Z POST /api/auth/validate
2025-09-10T08:19:22.199Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T08:19:22.204Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T08:19:24.314Z POST /api/auth/validate
2025-09-10T08:19:24.317Z GET /api/v1/order/menu
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T08:19:47.363Z GET /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
Connection test failed for hotel-saas: This operation was aborted
ğŸ“Š Health check completed (0/4 systems connected)
2025-09-10T08:23:00.947Z POST /api/auth/validate
2025-09-10T08:23:01.284Z POST /api/v1/devices/check-status
2025-09-10T08:23:01.316Z POST /api/auth/validate
2025-09-10T08:23:01.324Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T08:23:01.333Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T08:23:02.942Z POST /api/auth/validate
2025-09-10T08:23:02.947Z GET /api/v1/order/menu
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (0/4 systems connected)
ğŸ“Š Health check completed (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
Connection test failed for hotel-saas: This operation was aborted
ğŸ“Š Health check completed (0/4 systems connected)
2025-09-10T08:32:33.100Z POST /api/auth/validate
2025-09-10T08:32:33.124Z POST /api/auth/validate
2025-09-10T08:32:33.179Z POST /api/auth/validate
2025-09-10T08:32:33.189Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T08:32:33.641Z POST /api/v1/devices/check-status
2025-09-10T08:32:33.661Z POST /api/auth/validate
2025-09-10T08:32:33.664Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T08:32:33.670Z POST /api/auth/validate
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
2025-09-10T08:32:33.675Z GET /api/v1/room-grades
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T08:32:33.692Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T08:33:53.158Z POST /api/auth/validate
2025-09-10T08:33:53.202Z POST /api/auth/validate
2025-09-10T08:33:53.211Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T08:33:53.386Z POST /api/auth/validate
2025-09-10T08:33:53.392Z GET /api/v1/room-grades
2025-09-10T08:34:14.685Z POST /api/auth/validate
2025-09-10T08:34:14.691Z POST /api/v1/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T08:34:16.788Z POST /api/auth/validate
2025-09-10T08:34:16.791Z POST /api/v1/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T08:34:16.954Z POST /api/auth/validate
2025-09-10T08:34:16.958Z POST /api/v1/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (0/4 systems connected)
ğŸ“Š Health check completed (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T08:41:29.247Z POST /api/v1/devices/check-status
2025-09-10T08:41:29.280Z POST /api/auth/validate
2025-09-10T08:41:29.293Z POST /api/auth/validate
2025-09-10T08:41:29.293Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T08:41:29.298Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T08:41:29.335Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T08:41:29.340Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T08:41:29.379Z POST /api/v1/devices/check-status
ğŸ” Health check started (1/4 systems connected)
2025-09-10T08:43:39.464Z POST /api/v1/devices/check-status
2025-09-10T08:43:39.524Z POST /api/v1/devices/check-status
2025-09-10T08:43:39.545Z POST /api/auth/validate
2025-09-10T08:43:39.560Z POST /api/auth/validate
2025-09-10T08:43:39.561Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
2025-09-10T08:43:39.567Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T08:43:39.575Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T08:43:39.582Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 503
ğŸ“Š Health check completed (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ“Š Health check completed (1/4 systems connected)
2025-09-10T08:46:57.337Z POST /api/auth/validate
2025-09-10T08:46:57.378Z POST /api/auth/validate
2025-09-10T08:46:57.387Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T08:46:58.309Z POST /api/auth/validate
2025-09-10T08:46:58.318Z GET /api/v1/room-grades
2025-09-10T08:47:09.160Z POST /api/auth/validate
2025-09-10T08:47:09.647Z POST /api/v1/devices/check-status
2025-09-10T08:47:09.683Z POST /api/auth/validate
2025-09-10T08:47:09.689Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T08:47:09.722Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T08:47:10.101Z POST /api/auth/validate
2025-09-10T08:47:10.120Z POST /api/auth/validate
2025-09-10T08:47:10.124Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T08:47:10.712Z POST /api/auth/validate
2025-09-10T08:47:10.715Z GET /api/v1/room-grades
2025-09-10T08:47:32.711Z POST /api/auth/validate
2025-09-10T08:47:32.715Z POST /api/v1/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T08:47:37.803Z POST /api/auth/validate
2025-09-10T08:47:37.807Z POST /api/v1/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T08:50:31.441Z POST /api/v1/devices/check-status
2025-09-10T08:50:31.551Z POST /api/auth/validate
2025-09-10T08:50:31.571Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T08:50:31.585Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
Connection test failed for hotel-saas: This operation was aborted
ğŸ“Š Health check completed (0/4 systems connected)
2025-09-10T08:50:34.180Z POST /api/v1/devices/check-status
2025-09-10T08:50:34.203Z POST /api/auth/validate
2025-09-10T08:50:34.214Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T08:50:34.223Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T08:51:00.041Z POST /api/auth/validate
2025-09-10T08:51:00.045Z POST /api/auth/validate
2025-09-10T08:51:00.079Z POST /api/auth/validate
2025-09-10T08:51:00.089Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T08:51:00.369Z POST /api/v1/devices/check-status
2025-09-10T08:51:00.381Z POST /api/auth/validate
2025-09-10T08:51:00.388Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T08:51:00.393Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T08:51:00.503Z POST /api/auth/validate
2025-09-10T08:51:00.507Z GET /api/v1/room-grades
2025-09-10T08:51:03.069Z POST /api/auth/validate
2025-09-10T08:51:03.168Z POST /api/auth/validate
2025-09-10T08:51:03.193Z POST /api/auth/validate
2025-09-10T08:51:03.197Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T08:51:03.383Z POST /api/v1/devices/check-status
2025-09-10T08:51:03.396Z POST /api/auth/validate
2025-09-10T08:51:03.401Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T08:51:03.407Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T08:51:03.577Z POST /api/auth/validate
2025-09-10T08:51:03.580Z GET /api/v1/room-grades
ğŸ” Health check started (0/4 systems connected)
ğŸ“Š Health check completed (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T08:58:20.430Z POST /api/auth/validate
2025-09-10T08:58:21.249Z POST /api/v1/devices/check-status
2025-09-10T08:58:21.261Z POST /api/auth/validate
2025-09-10T08:58:21.265Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T08:58:21.311Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T08:58:22.936Z POST /api/auth/validate
2025-09-10T08:58:22.937Z GET /api/v1/order/menu
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
2025-09-10T08:58:43.728Z POST /api/auth/validate
2025-09-10T08:58:43.742Z POST /api/auth/validate
2025-09-10T08:58:43.745Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T08:58:43.825Z POST /api/auth/validate
2025-09-10T08:58:44.065Z POST /api/auth/validate
2025-09-10T08:58:44.068Z GET /api/v1/room-grades
2025-09-10T08:58:44.274Z POST /api/v1/devices/check-status
2025-09-10T08:58:44.284Z POST /api/auth/validate
2025-09-10T08:58:44.286Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T08:58:44.293Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T09:07:47.755Z POST /api/auth/validate
2025-09-10T09:07:48.045Z POST /api/v1/devices/check-status
2025-09-10T09:07:48.062Z POST /api/auth/validate
2025-09-10T09:07:48.067Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T09:07:48.106Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ“Š Health check completed (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ” Health check started (0/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
2025-09-10T09:17:22.004Z POST /api/auth/validate
2025-09-10T09:17:22.438Z POST /api/v1/devices/check-status
2025-09-10T09:17:22.464Z POST /api/auth/validate
2025-09-10T09:17:22.470Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T09:17:22.502Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (0/4 systems connected)
ğŸ“Š Health check completed (1/4 systems connected)
2025-09-10T09:18:30.684Z POST /api/auth/validate
2025-09-10T09:18:30.798Z POST /api/v1/devices/check-status
2025-09-10T09:18:30.817Z POST /api/auth/validate
2025-09-10T09:18:30.822Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T09:18:30.827Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T09:19:34.444Z POST /api/auth/validate
2025-09-10T09:19:34.606Z POST /api/v1/devices/check-status
2025-09-10T09:19:34.621Z POST /api/auth/validate
2025-09-10T09:19:34.624Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T09:19:34.627Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T09:32:28.018Z POST /api/auth/validate
2025-09-10T09:32:28.185Z POST /api/v1/devices/check-status
2025-09-10T09:32:28.203Z POST /api/auth/validate
2025-09-10T09:32:28.210Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T09:32:28.224Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T10:25:15.340Z POST /api/auth/validate
2025-09-10T10:25:15.359Z POST /api/auth/validate
2025-09-10T10:25:15.362Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T10:25:22.278Z POST /api/auth/validate
2025-09-10T10:25:22.296Z POST /api/auth/validate
2025-09-10T10:25:22.301Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T10:25:23.830Z POST /api/auth/validate
2025-09-10T10:25:25.441Z POST /api/v1/devices/check-status
2025-09-10T10:25:25.447Z POST /api/auth/validate
2025-09-10T10:25:25.449Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T10:25:25.475Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T10:25:41.060Z POST /api/auth/validate
2025-09-10T10:25:41.067Z POST /api/auth/validate
2025-09-10T10:25:41.069Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
ğŸ” Health check started (1/4 systems connected)
2025-09-10T10:26:54.863Z POST /api/auth/validate
2025-09-10T10:26:54.928Z POST /api/v1/devices/check-status
2025-09-10T10:26:54.949Z POST /api/auth/validate
2025-09-10T10:26:54.955Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T10:26:54.960Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T10:26:56.900Z POST /api/auth/validate
2025-09-10T10:26:56.903Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T10:26:56.907Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T10:26:56.911Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-09T15:00:00.000Z"),
               lte: new Date("2025-09-10T10:26:56.902Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T10:26:56.925Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-09T15:00:00.000Z"),
               lte: new Date("2025-09-10T10:26:56.902Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-09T15:00:00.000Z"),
               lte: new Date("2025-09-10T10:26:56.902Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 0)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-09T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:26:56.902Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T10:26:56.929Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-09T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:26:56.902Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T10:26:56.933Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-09T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:26:56.902Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-09T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:26:56.902Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-09T15:00:00.000Z"),
               lte: new Date("2025-09-10T10:26:56.902Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T10:26:56.969Z POST /api/auth/validate
2025-09-10T10:26:56.973Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T10:26:56.978Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T10:26:56.981Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-09T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:26:56.971Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T10:26:56.983Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-09T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:26:56.971Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-09T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:26:56.971Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-09T15:00:00.000Z"),
               lte: new Date("2025-09-10T10:26:56.971Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T10:26:56.985Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-09T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:26:56.971Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T10:26:56.986Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-09T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:26:56.971Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-09T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:26:56.971Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-09T15:00:00.000Z"),
               lte: new Date("2025-09-10T10:26:56.971Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T10:27:01.544Z POST /api/auth/validate
2025-09-10T10:27:01.558Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T10:27:01.562Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T10:27:01.564Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-03T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:27:01.554Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T10:27:01.566Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-03T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:27:01.554Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-03T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:27:01.554Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-03T15:00:00.000Z"),
               lte: new Date("2025-09-10T10:27:01.554Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T10:27:01.569Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-03T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:27:01.554Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T10:27:01.570Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-03T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:27:01.554Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-03T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:27:01.554Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-03T15:00:00.000Z"),
               lte: new Date("2025-09-10T10:27:01.554Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T10:27:01.604Z POST /api/auth/validate
2025-09-10T10:27:01.606Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T10:27:01.609Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T10:27:01.611Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-03T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:27:01.605Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T10:27:01.613Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-03T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:27:01.605Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-03T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:27:01.605Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-03T15:00:00.000Z"),
               lte: new Date("2025-09-10T10:27:01.605Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T10:27:01.614Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-03T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:27:01.605Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T10:27:01.615Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-03T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:27:01.605Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-03T15:00:00.000Z"),
           lte: new Date("2025-09-10T10:27:01.605Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-03T15:00:00.000Z"),
               lte: new Date("2025-09-10T10:27:01.605Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T10:53:42.844Z POST /api/auth/validate
2025-09-10T10:53:42.848Z POST /api/auth/validate
2025-09-10T10:53:42.868Z POST /api/auth/validate
2025-09-10T10:53:42.869Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T10:53:43.033Z POST /api/v1/devices/check-status
2025-09-10T10:53:43.046Z POST /api/auth/validate
2025-09-10T10:53:43.052Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T10:53:43.162Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T10:56:50.223Z POST /api/auth/validate
2025-09-10T10:56:50.223Z POST /api/auth/validate
2025-09-10T10:56:50.233Z POST /api/auth/validate
2025-09-10T10:56:50.235Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T10:56:50.492Z POST /api/v1/devices/check-status
2025-09-10T10:56:50.503Z POST /api/auth/validate
2025-09-10T10:56:50.506Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T10:56:50.509Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T11:19:26.865Z POST /api/auth/validate
2025-09-10T11:19:26.867Z POST /api/auth/validate
2025-09-10T11:19:26.888Z POST /api/auth/validate
2025-09-10T11:19:26.890Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T11:19:27.021Z POST /api/v1/devices/check-status
2025-09-10T11:19:27.031Z POST /api/auth/validate
2025-09-10T11:19:27.034Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T11:19:27.057Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T11:34:00.895Z POST /api/auth/validate
2025-09-10T11:34:00.896Z POST /api/auth/validate
2025-09-10T11:34:00.912Z POST /api/auth/validate
2025-09-10T11:34:00.914Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T11:34:01.162Z POST /api/v1/devices/check-status
2025-09-10T11:34:01.170Z POST /api/auth/validate
2025-09-10T11:34:01.172Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T11:34:01.197Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-10T11:36:28.603Z POST /api/auth/validate
2025-09-10T11:36:28.607Z POST /api/auth/validate
2025-09-10T11:36:28.617Z POST /api/auth/validate
2025-09-10T11:36:28.620Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T11:36:28.827Z POST /api/v1/devices/check-status
2025-09-10T11:36:28.831Z POST /api/auth/validate
2025-09-10T11:36:28.832Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T11:36:28.838Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T11:53:55.749Z POST /api/auth/validate
2025-09-10T11:53:55.777Z POST /api/auth/validate
2025-09-10T11:53:55.810Z POST /api/auth/validate
2025-09-10T11:53:55.812Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T11:53:56.799Z POST /api/v1/devices/check-status
2025-09-10T11:53:56.810Z POST /api/auth/validate
2025-09-10T11:53:56.812Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T11:53:56.815Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T11:54:03.620Z POST /api/auth/validate
2025-09-10T11:54:03.631Z POST /api/auth/validate
2025-09-10T11:54:03.638Z POST /api/auth/validate
2025-09-10T11:54:03.640Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T11:54:03.890Z POST /api/v1/devices/check-status
2025-09-10T11:54:03.898Z POST /api/auth/validate
2025-09-10T11:54:03.900Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T11:54:03.904Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T11:54:11.051Z POST /api/auth/validate
2025-09-10T11:54:11.063Z POST /api/auth/validate
2025-09-10T11:54:11.071Z POST /api/auth/validate
2025-09-10T11:54:11.073Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T11:54:11.307Z POST /api/v1/devices/check-status
2025-09-10T11:54:11.316Z POST /api/auth/validate
2025-09-10T11:54:11.317Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T11:54:11.320Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T21:12:38.410Z POST /api/auth/validate
2025-09-10T21:12:38.413Z POST /api/auth/validate
2025-09-10T21:12:38.636Z POST /api/v1/devices/check-status
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T23:41:11.882Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-10T23:41:11.927Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-10T23:41:12.120Z POST /api/auth/validate
2025-09-10T23:41:12.124Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T23:41:13.011Z POST /api/auth/validate
2025-09-10T23:41:13.015Z POST /api/auth/validate
2025-09-10T23:41:13.021Z POST /api/auth/validate
2025-09-10T23:41:13.030Z GET /api/v1/admin/orders/monthly-count
2025-09-10T23:41:13.032Z GET /api/v1/admin/summary
2025-09-10T23:41:13.035Z POST /api/auth/validate
2025-09-10T23:41:13.037Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T23:41:13.043Z GET /api/v1/admin/orders
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
ğŸ” Health check started (1/4 systems connected)
Connection test failed for hotel-saas: This operation was aborted
ğŸ“Š Health check completed (0/4 systems connected)
2025-09-10T23:41:26.100Z POST /api/auth/validate
2025-09-10T23:41:26.110Z POST /api/auth/validate
2025-09-10T23:41:26.113Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T23:41:26.429Z POST /api/auth/validate
2025-09-10T23:41:26.433Z GET /api/v1/admin/summary
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
2025-09-10T23:41:26.436Z POST /api/auth/validate
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
2025-09-10T23:41:26.441Z POST /api/auth/validate
2025-09-10T23:41:26.442Z GET /api/v1/admin/orders
2025-09-10T23:41:26.443Z POST /api/auth/validate
2025-09-10T23:41:26.443Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
2025-09-10T23:41:26.445Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
2025-09-10T23:41:32.720Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-10T23:41:32.730Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-10T23:41:32.982Z POST /api/auth/validate
2025-09-10T23:41:32.986Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T23:41:33.351Z POST /api/auth/validate
2025-09-10T23:41:33.354Z POST /api/auth/validate
2025-09-10T23:41:33.362Z POST /api/auth/validate
2025-09-10T23:41:33.368Z POST /api/auth/validate
2025-09-10T23:41:33.374Z GET /api/v1/admin/orders
2025-09-10T23:41:33.376Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T23:41:33.378Z GET /api/v1/admin/summary
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT 1
2025-09-10T23:41:33.381Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
2025-09-10T23:41:36.430Z POST /api/auth/validate
2025-09-10T23:41:36.436Z POST /api/auth/validate
2025-09-10T23:41:36.447Z POST /api/auth/validate
2025-09-10T23:41:36.447Z POST /api/auth/validate
2025-09-10T23:41:36.451Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T23:41:36.469Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T23:41:36.478Z GET /api/v1/admin/orders
2025-09-10T23:41:36.479Z GET /api/v1/admin/front-desk/accounting
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
[32m[2025-09-10T23:41:36.481Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."status" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) ORDER BY "public"."system_event"."created_at" DESC LIMIT $4 OFFSET $5
[32m[2025-09-10T23:41:36.482Z] INFO[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
prisma:query SELECT COUNT(*) FROM (SELECT "public"."transactions"."id" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."transactions"."id", "public"."transactions"."tenantId", "public"."transactions"."invoiceId", "public"."transactions"."paymentId", "public"."transactions"."type", "public"."transactions"."amount", "public"."transactions"."taxAmount", "public"."transactions"."totalAmount", "public"."transactions"."status", "public"."transactions"."description", "public"."transactions"."reference", "public"."transactions"."metadata", "public"."transactions"."createdAt", "public"."transactions"."updatedAt", "public"."transactions"."createdBy", "public"."transactions"."isDeleted", "public"."transactions"."deletedAt", "public"."transactions"."deletedBy" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2 AND "public"."transactions"."createdAt" >= $3 AND "public"."transactions"."createdAt" <= $4) ORDER BY "public"."transactions"."createdAt" DESC LIMIT $5 OFFSET $6
prisma:query SELECT SUM("totalAmount") FROM (SELECT "public"."transactions"."totalAmount" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."transactions"."id"), "public"."transactions"."status" FROM "public"."transactions" WHERE ("public"."transactions"."tenantId" = $1 AND "public"."transactions"."isDeleted" = $2) GROUP BY "public"."transactions"."status" OFFSET $3
prisma:query SELECT COUNT("public"."payments"."id"), "public"."payments"."paymentMethod" FROM "public"."payments" WHERE ("public"."payments"."tenantId" = $1 AND "public"."payments"."isDeleted" = $2) GROUP BY "public"."payments"."paymentMethod" OFFSET $3
[32m[2025-09-10T23:41:36.487Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ä¼šè¨ˆå–å¼•ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:41:39.899Z POST /api/v1/devices/check-status
2025-09-10T23:41:39.924Z POST /api/auth/validate
2025-09-10T23:41:39.929Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T23:41:39.935Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:41:41.880Z POST /api/auth/validate
2025-09-10T23:41:41.882Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T23:41:41.886Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:41:41.888Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:41.881Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:41:41.895Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:41.881Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:41.881Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-10T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:41:41.881Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:41:41.899Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:41.881Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:41:41.902Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:41.881Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:41.881Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-10T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:41:41.881Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:41:41.919Z POST /api/auth/validate
2025-09-10T23:41:41.921Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T23:41:41.926Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:41:41.927Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:41.921Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:41:41.930Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:41.921Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:41.921Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-10T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:41:41.921Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:41:41.932Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:41.921Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:41:41.934Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:41.921Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:41.921Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-10T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:41:41.921Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:41:44.287Z POST /api/auth/validate
2025-09-10T23:41:44.289Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T23:41:44.293Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:41:44.306Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:41:44.288Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:41:44.309Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:41:44.288Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:41:44.288Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 0)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:44.288Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:41:44.312Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:44.288Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:41:44.316Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:44.288Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:44.288Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:41:44.288Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:41:44.341Z POST /api/auth/validate
2025-09-10T23:41:44.345Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T23:41:44.351Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:41:44.352Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:44.344Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:41:44.354Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:44.344Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:44.344Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:41:44.344Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:41:44.355Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:44.344Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:41:44.357Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:44.344Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:41:44.344Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:41:44.344Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:42:01.576Z POST /api/auth/validate
2025-09-10T23:42:01.580Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T23:42:01.584Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:42:01.585Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         action: {
           contains: "CHECKIN"
         },
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:01.579Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:42:01.589Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         action: {
           contains: "CHECKIN"
         },
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:01.579Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         action: {
           contains: "CHECKIN"
         },
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:01.579Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             action: {
               contains: "CHECKIN"
             },
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:42:01.579Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:42:01.591Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         action: {
           contains: "CHECKIN"
         },
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:01.579Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:42:01.593Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         action: {
           contains: "CHECKIN"
         },
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:01.579Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         action: {
           contains: "CHECKIN"
         },
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:01.579Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             action: {
               contains: "CHECKIN"
             },
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:42:01.579Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:42:01.616Z POST /api/auth/validate
2025-09-10T23:42:01.618Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T23:42:01.622Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:42:01.623Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         action: {
           contains: "CHECKIN"
         },
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:01.618Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:42:01.625Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         action: {
           contains: "CHECKIN"
         },
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:01.618Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         action: {
           contains: "CHECKIN"
         },
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:01.618Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             action: {
               contains: "CHECKIN"
             },
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:42:01.618Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:42:01.626Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         action: {
           contains: "CHECKIN"
         },
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:01.618Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:42:01.627Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         action: {
           contains: "CHECKIN"
         },
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:01.618Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         action: {
           contains: "CHECKIN"
         },
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:01.618Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             action: {
               contains: "CHECKIN"
             },
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:42:01.618Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:42:03.147Z POST /api/auth/validate
2025-09-10T23:42:03.151Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T23:42:03.154Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:42:03.156Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:42:03.150Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:42:03.158Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:42:03.150Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:42:03.150Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 0)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:03.150Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:42:03.159Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:42:03.150Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:42:03.169Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:42:03.150Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:42:03.150Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 0)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:03.150Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:42:03.189Z POST /api/auth/validate
2025-09-10T23:42:03.192Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T23:42:03.195Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:42:03.196Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:03.191Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:42:03.198Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:03.191Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:03.191Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:42:03.191Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:42:03.200Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:03.191Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:42:03.201Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:03.191Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-04T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:03.191Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-04T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:42:03.191Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:42:09.371Z POST /api/auth/validate
2025-09-10T23:42:09.376Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-10T23:42:11.249Z POST /api/auth/validate
2025-09-10T23:42:11.251Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) OFFSET $5) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."roomId" = $3 AND "public"."Order"."status" = $4) ORDER BY "public"."Order"."createdAt" DESC LIMIT $5 OFFSET $6
2025-09-10T23:42:13.502Z POST /api/auth/validate
2025-09-10T23:42:13.505Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T23:42:13.508Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:42:13.509Z POST /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T23:42:13.512Z PUT /api/v1/admin/front-desk/rooms/9d3e5e44-3bd4-4d5d-899d-a881c7023738
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."id" = $1 AND "public"."rooms"."tenantId" = $2 AND "public"."rooms"."isDeleted" = $3) LIMIT $4 OFFSET $5
prisma:query UPDATE "public"."rooms" SET "status" = $1, "notes" = $2, "updatedAt" = $3 WHERE ("public"."rooms"."id" = $4 AND 1=1) RETURNING "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy"
prisma:query INSERT INTO "public"."system_event" ("id","tenant_id","user_id","event_type","source_system","target_system","entity_type","entity_id","action","event_data","created_at","status") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status"
[32m[2025-09-10T23:42:13.525Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤çŠ¶æ…‹æ›´æ–°å®Œäº†
2025-09-10T23:42:14.401Z POST /api/auth/validate
2025-09-10T23:42:14.684Z POST /api/v1/devices/check-status
2025-09-10T23:42:14.693Z POST /api/auth/validate
2025-09-10T23:42:14.697Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T23:42:14.700Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:42:17.249Z POST /api/auth/validate
2025-09-10T23:42:17.252Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T23:42:17.256Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:42:17.257Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:17.251Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:42:17.259Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:17.251Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:17.251Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-10T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:42:17.251Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:42:17.260Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:17.251Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:42:17.261Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:17.251Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:17.251Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-10T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:42:17.251Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:42:17.270Z POST /api/auth/validate
2025-09-10T23:42:17.271Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T23:42:17.274Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:42:17.275Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:17.271Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:42:17.276Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:17.271Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:17.271Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-10T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:42:17.271Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
2025-09-10T23:42:17.277Z GET /api/v1/logs/operations
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:17.271Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
[31m[2025-09-10T23:42:17.278Z] ERROR[0m [hotel-common]: æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼
  Error: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:17.271Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
  Stack: PrismaClientValidationError: 
Invalid `database_1.hotelDb.getAdapter().systemEvent.count()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:89:57

  86         status: true
  87     }
  88 }),
â†’ 89 database_1.hotelDb.getAdapter().systemEvent.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         tenant_id: "default",
         target_type: "room",
         ~~~~~~~~~~~
         created_at: {
           gte: new Date("2025-09-10T15:00:00.000Z"),
           lte: new Date("2025-09-10T23:42:17.271Z")
         },
     ?   AND?: system_eventWhereInput | system_eventWhereInput[],
     ?   OR?: system_eventWhereInput[],
     ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
     ?   id?: StringFilter | String,
     ?   user_id?: StringNullableFilter | String | Null,
     ?   event_type?: StringFilter | String,
     ?   source_system?: StringFilter | String,
     ?   target_system?: StringFilter | String,
     ?   entity_type?: StringFilter | String,
     ?   entity_id?: StringFilter | String,
     ?   action?: StringFilter | String,
     ?   event_data?: JsonNullableFilter,
     ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
     ?   status?: StringFilter | String
       }
     })

Unknown argument `target_type`. Available options are marked with ?.
    at wn (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:29:1363)
    at $n.handleRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6623)
    at $n.request (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:121:6307)
    at async l (/Users/kaneko/hotel-common/dist/generated/prisma/runtime/library.js:130:9633)
    at async Promise.all (index 1)
    at async /Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:69:36
prisma:error 
Invalid `database_1.hotelDb.getAdapter().systemEvent.findMany()` invocation in
/Users/kaneko/hotel-common/dist/routes/systems/common/operation-logs.routes.js:70:57

  67 }
  68 // ãƒ‡ãƒ¼ã‚¿å–å¾—
  69 const [logs, totalCount] = await Promise.all([
â†’ 70     database_1.hotelDb.getAdapter().systemEvent.findMany({
           where: {
             tenant_id: "default",
             target_type: "room",
             ~~~~~~~~~~~
             created_at: {
               gte: new Date("2025-09-10T15:00:00.000Z"),
               lte: new Date("2025-09-10T23:42:17.271Z")
             },
         ?   AND?: system_eventWhereInput | system_eventWhereInput[],
         ?   OR?: system_eventWhereInput[],
         ?   NOT?: system_eventWhereInput | system_eventWhereInput[],
         ?   id?: StringFilter | String,
         ?   user_id?: StringNullableFilter | String | Null,
         ?   event_type?: StringFilter | String,
         ?   source_system?: StringFilter | String,
         ?   target_system?: StringFilter | String,
         ?   entity_type?: StringFilter | String,
         ?   entity_id?: StringFilter | String,
         ?   action?: StringFilter | String,
         ?   event_data?: JsonNullableFilter,
         ?   processed_at?: DateTimeNullableFilter | DateTime | Null,
         ?   status?: StringFilter | String
           },
           orderBy: {
             created_at: "desc"
           },
           skip: 0,
           take: 20,
           select: {
             id: true,
             user_id: true,
             event_type: true,
             source_system: true,
             target_system: true,
             entity_type: true,
             entity_id: true,
             action: true,
             event_data: true,
             created_at: true,
             status: true
           }
         })

Unknown argument `target_type`. Available options are marked with ?.
ğŸ” Health check started (0/4 systems connected)
ğŸ“Š Health check completed (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T23:51:22.854Z POST /api/auth/validate
2025-09-10T23:51:22.943Z POST /api/v1/devices/check-status
2025-09-10T23:51:22.974Z POST /api/auth/validate
2025-09-10T23:51:22.980Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T23:51:23.014Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:51:25.532Z POST /api/auth/validate
2025-09-10T23:51:25.558Z POST /api/auth/validate
2025-09-10T23:51:25.563Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-10T23:51:25.722Z POST /api/auth/validate
2025-09-10T23:51:25.725Z POST /api/auth/validate
2025-09-10T23:51:25.742Z POST /api/auth/validate
2025-09-10T23:51:25.743Z POST /api/auth/validate
2025-09-10T23:51:25.748Z GET /api/v1/admin/orders/monthly-count
2025-09-10T23:51:25.749Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T23:51:25.750Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
2025-09-10T23:51:25.754Z GET /api/v1/admin/summary
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
2025-09-10T23:51:26.803Z POST /api/auth/validate
2025-09-10T23:51:26.810Z GET /api/v1/devices/client-ip
ğŸ” Health check started (1/4 systems connected)
2025-09-10T23:55:09.445Z POST /api/auth/validate
2025-09-10T23:55:09.498Z POST /api/v1/devices/check-status
2025-09-10T23:55:09.514Z POST /api/auth/validate
2025-09-10T23:55:09.523Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T23:55:09.537Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:55:15.101Z POST /api/auth/validate
2025-09-10T23:55:15.116Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T23:55:15.121Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:55:15.132Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) ORDER BY "public"."system_event"."created_at" DESC LIMIT $4 OFFSET $5
[32m[2025-09-10T23:55:15.136Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-10T23:55:23.480Z POST /api/auth/validate
2025-09-10T23:55:23.487Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-10T23:55:23.490Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:55:23.495Z POST /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-10T23:55:23.502Z PUT /api/v1/admin/front-desk/rooms/9d3e5e44-3bd4-4d5d-899d-a881c7023738
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."id" = $1 AND "public"."rooms"."tenantId" = $2 AND "public"."rooms"."isDeleted" = $3) LIMIT $4 OFFSET $5
prisma:query UPDATE "public"."rooms" SET "status" = $1, "notes" = $2, "updatedAt" = $3 WHERE ("public"."rooms"."id" = $4 AND 1=1) RETURNING "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy"
prisma:query INSERT INTO "public"."system_event" ("id","tenant_id","user_id","event_type","source_system","target_system","entity_type","entity_id","action","event_data","created_at","status") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status"
[32m[2025-09-10T23:55:23.515Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤çŠ¶æ…‹æ›´æ–°å®Œäº†
2025-09-10T23:55:23.572Z POST /api/auth/validate
2025-09-10T23:55:23.575Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T23:55:23.578Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:55:28.651Z POST /api/auth/validate
2025-09-10T23:55:28.655Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-10T23:55:28.658Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-10T23:55:28.661Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) ORDER BY "public"."system_event"."created_at" DESC LIMIT $4 OFFSET $5
[32m[2025-09-10T23:55:28.663Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-10T23:59:38.002Z POST /api/auth/validate
2025-09-10T23:59:38.003Z POST /api/auth/validate
2025-09-10T23:59:38.013Z GET /api/v1/room-grades
2025-09-10T23:59:38.014Z GET /api/v1/rooms
2025-09-10T23:59:39.025Z POST /api/auth/validate
2025-09-10T23:59:39.028Z GET /api/v1/room-grades
2025-09-10T23:59:59.842Z POST /api/auth/validate
2025-09-10T23:59:59.847Z POST /api/v1/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
2025-09-11T00:01:36.664Z POST /api/v1/devices/check-status
2025-09-11T00:01:36.681Z POST /api/auth/validate
2025-09-11T00:01:36.688Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-11T00:01:36.760Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:01:37.212Z POST /api/v1/devices/check-status
2025-09-11T00:01:37.218Z POST /api/auth/validate
2025-09-11T00:01:37.246Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-11T00:01:37.251Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:01:54.856Z POST /api/v1/devices/check-status
2025-09-11T00:01:54.863Z POST /api/auth/validate
2025-09-11T00:01:54.866Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-11T00:01:54.869Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:01:55.190Z POST /api/v1/devices/check-status
2025-09-11T00:01:55.200Z POST /api/auth/validate
2025-09-11T00:01:55.202Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-11T00:01:55.206Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:02:00.940Z POST /api/v1/devices/check-status
2025-09-11T00:02:00.949Z POST /api/auth/validate
2025-09-11T00:02:00.952Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-11T00:02:00.957Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:02:01.203Z POST /api/v1/devices/check-status
2025-09-11T00:02:01.206Z POST /api/auth/validate
2025-09-11T00:02:01.210Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-11T00:02:01.215Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-11T00:12:53.847Z POST /api/auth/validate
2025-09-11T00:12:53.901Z POST /api/v1/devices/check-status
2025-09-11T00:12:53.914Z POST /api/auth/validate
2025-09-11T00:12:53.917Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-11T00:12:53.950Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:12:55.962Z POST /api/auth/validate
2025-09-11T00:12:55.964Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-11T00:12:55.967Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:12:55.970Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) ORDER BY "public"."system_event"."created_at" DESC LIMIT $4 OFFSET $5
[32m[2025-09-11T00:12:55.973Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-11T00:18:56.284Z POST /api/auth/validate
2025-09-11T00:18:56.428Z POST /api/v1/devices/check-status
2025-09-11T00:18:56.476Z POST /api/auth/validate
2025-09-11T00:18:56.486Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-11T00:18:56.518Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:19:02.891Z POST /api/auth/validate
2025-09-11T00:19:02.906Z POST /api/auth/validate
2025-09-11T00:19:02.910Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-11T00:19:03.303Z POST /api/auth/validate
2025-09-11T00:19:03.306Z GET /api/v1/room-grades
2025-09-11T00:19:12.591Z POST /api/auth/validate
2025-09-11T00:19:12.616Z POST /api/auth/validate
2025-09-11T00:19:12.622Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-11T00:19:12.723Z POST /api/auth/validate
2025-09-11T00:19:12.727Z GET /api/v1/room-grades
2025-09-11T00:19:14.338Z POST /api/auth/validate
2025-09-11T00:19:14.460Z POST /api/v1/devices/check-status
2025-09-11T00:19:14.487Z POST /api/auth/validate
2025-09-11T00:19:14.491Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-11T00:19:14.496Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-11T00:19:31.305Z POST /api/auth/validate
2025-09-11T00:19:31.309Z POST /api/v1/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-11T00:24:24.822Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T00:24:24.850Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-11T00:24:25.070Z POST /api/auth/validate
2025-09-11T00:24:25.072Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-11T00:24:26.435Z POST /api/auth/validate
2025-09-11T00:24:26.437Z GET /api/v1/admin/summary
2025-09-11T00:24:26.441Z POST /api/auth/validate
2025-09-11T00:24:26.446Z POST /api/auth/validate
2025-09-11T00:24:26.447Z POST /api/auth/validate
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
2025-09-11T00:24:26.450Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-11T00:24:26.453Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
2025-09-11T00:24:26.454Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
2025-09-11T00:24:35.426Z POST /api/auth/validate
2025-09-11T00:24:35.447Z POST /api/auth/validate
2025-09-11T00:24:35.452Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-11T00:24:35.799Z POST /api/auth/validate
2025-09-11T00:24:35.801Z POST /api/auth/validate
2025-09-11T00:24:35.822Z GET /api/v1/admin/summary
2025-09-11T00:24:35.823Z POST /api/auth/validate
2025-09-11T00:24:35.824Z POST /api/auth/validate
2025-09-11T00:24:35.824Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
2025-09-11T00:24:35.828Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
2025-09-11T00:24:35.829Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
2025-09-11T00:24:37.167Z POST /api/auth/validate
2025-09-11T00:24:37.505Z POST /api/v1/devices/check-status
2025-09-11T00:24:37.515Z POST /api/auth/validate
2025-09-11T00:24:37.517Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-11T00:24:37.524Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:24:48.397Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T00:24:48.406Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-11T00:24:48.635Z POST /api/auth/validate
2025-09-11T00:24:48.636Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-11T00:24:48.929Z POST /api/auth/validate
2025-09-11T00:24:48.929Z POST /api/auth/validate
2025-09-11T00:24:48.936Z POST /api/auth/validate
2025-09-11T00:24:48.938Z POST /api/auth/validate
2025-09-11T00:24:48.938Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-11T00:24:48.940Z GET /api/v1/admin/orders/monthly-count
2025-09-11T00:24:48.940Z GET /api/v1/admin/summary
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
2025-09-11T00:24:48.944Z GET /api/v1/admin/orders
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-11T00:28:27.292Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
2025-09-11T00:28:34.238Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T00:28:34.249Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-11T00:28:34.489Z POST /api/auth/validate
2025-09-11T00:28:34.491Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-11T00:28:34.910Z POST /api/auth/validate
2025-09-11T00:28:34.911Z POST /api/auth/validate
2025-09-11T00:28:34.917Z GET /api/v1/admin/summary
2025-09-11T00:28:34.918Z POST /api/auth/validate
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT 1
2025-09-11T00:28:34.919Z POST /api/auth/validate
2025-09-11T00:28:34.920Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
2025-09-11T00:28:34.923Z GET /api/v1/admin/orders/monthly-count
2025-09-11T00:28:34.925Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
2025-09-11T00:28:47.124Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T00:28:47.130Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-11T00:28:47.292Z POST /api/auth/validate
2025-09-11T00:28:47.294Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-11T00:28:47.349Z POST /api/auth/validate
2025-09-11T00:28:47.352Z POST /api/auth/validate
2025-09-11T00:28:47.355Z POST /api/auth/validate
2025-09-11T00:28:47.359Z POST /api/auth/validate
2025-09-11T00:28:47.365Z GET /api/v1/admin/orders
2025-09-11T00:28:47.365Z GET /api/v1/admin/summary
2025-09-11T00:28:47.366Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-11T00:28:47.368Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
ğŸ” Health check started (1/4 systems connected)
2025-09-11T00:29:23.396Z POST /api/auth/validate
2025-09-11T00:29:23.400Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-11T00:29:23.408Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:29:23.411Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) ORDER BY "public"."system_event"."created_at" DESC LIMIT $4 OFFSET $5
[32m[2025-09-11T00:29:23.416Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
2025-09-11T00:32:06.842Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
2025-09-11T00:32:34.611Z POST /api/auth/validate
2025-09-11T00:33:11.667Z POST /api/v1/devices/check-status
2025-09-11T00:33:11.677Z POST /api/auth/validate
2025-09-11T00:33:11.682Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-11T00:33:11.710Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:33:18.017Z POST /api/v1/devices/check-status
2025-09-11T00:33:18.020Z POST /api/auth/validate
2025-09-11T00:33:18.024Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-11T00:33:18.027Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:33:18.062Z POST /api/auth/validate
2025-09-11T00:33:18.064Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-11T00:33:18.072Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:33:18.085Z POST /api/v1/devices/check-status
ğŸ” Health check started (1/4 systems connected)
2025-09-11T00:33:38.312Z POST /api/v1/devices/check-status
2025-09-11T00:33:38.317Z POST /api/auth/validate
2025-09-11T00:33:38.319Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-11T00:33:38.323Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:34:44.512Z POST /api/auth/validate
2025-09-11T00:34:44.514Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-11T00:34:44.517Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:34:44.518Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) ORDER BY "public"."system_event"."created_at" DESC LIMIT $4 OFFSET $5
[32m[2025-09-11T00:34:44.521Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:34:53.724Z POST /api/auth/validate
2025-09-11T00:34:53.726Z GET /api/v1/admin/summary
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 500
ğŸ“Š Health check completed (0/4 systems connected)
2025-09-11T00:38:57.876Z POST /api/auth/validate
2025-09-11T00:38:57.888Z GET /api/v1/order/menu
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-11T00:39:00.846Z POST /api/auth/validate
2025-09-11T00:39:00.850Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-11T00:39:00.857Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:39:00.862Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) ORDER BY "public"."system_event"."created_at" DESC LIMIT $4 OFFSET $5
[32m[2025-09-11T00:39:00.866Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (0/4 systems connected)
ğŸ“Š Health check completed (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-11T00:41:40.239Z POST /api/v1/devices/check-status
2025-09-11T00:41:40.256Z POST /api/auth/validate
2025-09-11T00:41:40.263Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-11T00:41:40.320Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:41:53.571Z POST /api/auth/validate
2025-09-11T00:41:53.573Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-11T00:41:53.576Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:41:53.578Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) ORDER BY "public"."system_event"."created_at" DESC LIMIT $4 OFFSET $5
[32m[2025-09-11T00:41:53.581Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T00:41:58.196Z POST /api/auth/validate
2025-09-11T00:41:58.200Z GET /api/v1/order/menu
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-11T00:42:08.039Z POST /api/auth/validate
2025-09-11T00:42:08.045Z GET /api/v1/order/menu
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-11T00:43:06.029Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T00:43:06.039Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-11T00:43:06.279Z POST /api/auth/validate
2025-09-11T00:43:06.286Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-11T00:43:06.641Z POST /api/auth/validate
2025-09-11T00:43:06.646Z POST /api/auth/validate
2025-09-11T00:43:06.661Z POST /api/auth/validate
2025-09-11T00:43:06.663Z POST /api/auth/validate
2025-09-11T00:43:06.664Z GET /api/v1/admin/summary
2025-09-11T00:43:06.665Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
2025-09-11T00:43:06.672Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
2025-09-11T00:43:06.679Z GET /api/v1/admin/orders/monthly-count
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
2025-09-11T00:43:16.403Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T00:43:16.413Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-11T00:43:16.593Z POST /api/auth/validate
2025-09-11T00:43:16.599Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-11T00:43:16.655Z POST /api/auth/validate
2025-09-11T00:43:16.659Z POST /api/auth/validate
2025-09-11T00:43:16.662Z POST /api/auth/validate
2025-09-11T00:43:16.667Z POST /api/auth/validate
2025-09-11T00:43:16.671Z GET /api/v1/admin/orders/monthly-count
2025-09-11T00:43:16.672Z GET /api/v1/admin/summary
2025-09-11T00:43:16.672Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-11T00:43:16.674Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
ğŸ” Health check started (1/4 systems connected)
2025-09-11T00:44:16.590Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T00:44:16.594Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-11T01:01:01.335Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T01:01:01.368Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
ğŸ” Health check started (1/4 systems connected)
2025-09-11T01:01:18.671Z POST /api/auth/validate
2025-09-11T01:01:18.687Z POST /api/auth/validate
2025-09-11T01:01:18.691Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-11T01:01:18.951Z POST /api/auth/validate
2025-09-11T01:01:18.956Z GET /api/v1/admin/summary
2025-09-11T01:01:18.959Z POST /api/auth/validate
2025-09-11T01:01:18.968Z POST /api/auth/validate
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
2025-09-11T01:01:18.969Z POST /api/auth/validate
2025-09-11T01:01:18.972Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
2025-09-11T01:01:18.978Z GET /api/v1/admin/orders
2025-09-11T01:01:18.978Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
2025-09-11T01:01:26.255Z POST /api/auth/validate
2025-09-11T01:01:26.258Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-11T01:01:26.267Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T01:01:26.271Z GET /api/v1/admin/operation-logs
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."system_event"."id" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."system_event"."id", "public"."system_event"."tenant_id", "public"."system_event"."user_id", "public"."system_event"."event_type", "public"."system_event"."source_system", "public"."system_event"."target_system", "public"."system_event"."entity_type", "public"."system_event"."entity_id", "public"."system_event"."action", "public"."system_event"."event_data", "public"."system_event"."created_at", "public"."system_event"."processed_at", "public"."system_event"."status" FROM "public"."system_event" WHERE ("public"."system_event"."tenant_id" = $1 AND "public"."system_event"."created_at" >= $2 AND "public"."system_event"."created_at" <= $3) ORDER BY "public"."system_event"."created_at" DESC LIMIT $4 OFFSET $5
[32m[2025-09-11T01:01:26.275Z] INFO[0m [hotel-common]: ç®¡ç†è€…æ“ä½œãƒ­ã‚°ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
Connection test failed for hotel-saas: This operation was aborted
ğŸ“Š Health check completed (0/4 systems connected)
ğŸ” Health check started (0/4 systems connected)
ğŸ“Š Health check completed (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-11T01:10:05.299Z POST /api/auth/validate
2025-09-11T01:10:05.444Z POST /api/v1/devices/check-status
2025-09-11T01:10:05.474Z POST /api/auth/validate
2025-09-11T01:10:05.483Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-11T01:10:05.516Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T01:11:08.609Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T01:11:08.634Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-11T01:11:08.867Z GET /api/v1/room-grades
2025-09-11T01:11:08.910Z GET /api/v1/admin/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
2025-09-11T01:11:53.855Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T01:11:53.859Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-11T01:21:06.089Z POST /api/v1/devices/check-status
2025-09-11T01:21:06.107Z POST /api/auth/validate
2025-09-11T01:21:06.116Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-11T01:21:06.154Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T01:21:06.271Z POST /api/v1/devices/check-status
2025-09-11T01:21:06.289Z POST /api/auth/validate
2025-09-11T01:21:06.296Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
[32m[2025-09-11T01:21:06.302Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-11T01:25:08.668Z POST /api/auth/validate
2025-09-11T01:25:08.872Z POST /api/v1/devices/check-status
2025-09-11T01:25:08.939Z POST /api/auth/validate
2025-09-11T01:25:08.955Z GET /api/v1/admin/front-desk/rooms
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."rooms"."id", "public"."rooms"."tenantId", "public"."rooms"."roomNumber", "public"."rooms"."roomType", "public"."rooms"."floor", "public"."rooms"."status", "public"."rooms"."capacity", "public"."rooms"."amenities", "public"."rooms"."notes", "public"."rooms"."lastCleaned", "public"."rooms"."createdAt", "public"."rooms"."updatedAt", "public"."rooms"."isDeleted", "public"."rooms"."deletedAt", "public"."rooms"."deletedBy" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) ORDER BY "public"."rooms"."roomNumber" ASC LIMIT $3 OFFSET $4
prisma:query SELECT COUNT(*) FROM (SELECT "public"."rooms"."id" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT("public"."rooms"."status"), "public"."rooms"."status" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."status" OFFSET $3
prisma:query SELECT COUNT("public"."rooms"."roomType"), "public"."rooms"."roomType" FROM "public"."rooms" WHERE ("public"."rooms"."tenantId" = $1 AND "public"."rooms"."isDeleted" = $2) GROUP BY "public"."rooms"."roomType" OFFSET $3
[32m[2025-09-11T01:25:08.991Z] INFO[0m [hotel-common]: ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯å®¢å®¤ä¸€è¦§å–å¾—å®Œäº†
2025-09-11T01:25:09.681Z POST /api/auth/validate
2025-09-11T01:25:09.709Z POST /api/auth/validate
2025-09-11T01:25:09.715Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-11T01:25:09.859Z POST /api/auth/validate
2025-09-11T01:25:09.861Z POST /api/auth/validate
2025-09-11T01:25:09.881Z POST /api/auth/validate
2025-09-11T01:25:09.882Z POST /api/auth/validate
2025-09-11T01:25:09.882Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-11T01:25:09.884Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
2025-09-11T01:25:09.889Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
2025-09-11T01:25:09.903Z GET /api/v1/admin/summary
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-11T01:28:04.193Z POST /api/auth/validate
2025-09-11T01:28:04.209Z POST /api/auth/validate
2025-09-11T01:28:04.213Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT 1
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-11T01:28:04.331Z POST /api/auth/validate
2025-09-11T01:28:04.335Z POST /api/auth/validate
2025-09-11T01:28:04.354Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-11T01:28:04.356Z GET /api/v1/admin/summary
2025-09-11T01:28:04.363Z POST /api/auth/validate
prisma:query SELECT 1
prisma:query SELECT 1
2025-09-11T01:28:04.376Z POST /api/auth/validate
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
2025-09-11T01:28:04.385Z GET /api/v1/admin/orders
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
2025-09-11T01:28:04.387Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
2025-09-11T01:28:07.232Z POST /api/auth/validate
2025-09-11T01:28:07.234Z GET /api/v1/room-grades
2025-09-11T01:28:25.863Z POST /api/auth/validate
2025-09-11T01:28:25.867Z POST /api/v1/room-grades
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
ğŸ” Health check started (1/4 systems connected)
2025-09-11T01:31:02.522Z POST /api/auth/validate
2025-09-11T01:31:02.525Z GET /api/v1/room-grades
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-11T01:49:42.535Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T01:49:42.567Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-11T01:49:42.870Z POST /api/auth/validate
2025-09-11T01:49:42.875Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-11T01:49:43.053Z POST /api/auth/validate
2025-09-11T01:49:43.056Z POST /api/auth/validate
2025-09-11T01:49:43.067Z POST /api/auth/validate
2025-09-11T01:49:43.083Z GET /api/v1/admin/orders/monthly-count
2025-09-11T01:49:43.084Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
2025-09-11T01:49:43.089Z POST /api/auth/validate
2025-09-11T01:49:43.090Z GET /api/v1/admin/orders
2025-09-11T01:49:43.095Z GET /api/v1/admin/summary
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
2025-09-11T01:49:49.841Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T01:49:49.852Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-11T01:49:50.083Z POST /api/auth/validate
2025-09-11T01:49:50.090Z GET /api/v1/tenants/default
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."status", "public"."Tenant"."contactEmail", "public"."Tenant"."features", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."createdAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
2025-09-11T01:49:50.172Z POST /api/auth/validate
2025-09-11T01:49:50.174Z POST /api/auth/validate
2025-09-11T01:49:50.180Z GET /api/v1/devices/count
JWT claims validation warnings (non-strict mode): {
  issues: [
    { path: [Array], message: 'Invalid iss: missing' },
    {
      path: [Array],
      message: 'Invalid aud: missing (expected: hotel-common)'
    },
    { path: [Array], message: 'Invalid system: missing' },
    { path: [Array], message: 'sub is required for user operations' }
  ]
}
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
2025-09-11T01:49:50.184Z POST /api/auth/validate
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
2025-09-11T01:49:50.184Z GET /api/v1/admin/summary
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."isActive" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE "public"."campaigns"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."device_rooms"."id" FROM "public"."device_rooms" WHERE ("public"."device_rooms"."tenantId" = $1 AND "public"."device_rooms"."status" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2) OFFSET $3) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."deviceType" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."deviceType" OFFSET $2
2025-09-11T01:49:50.190Z POST /api/auth/validate
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."createdAt" >= $3) OFFSET $4) AS "sub"
prisma:query SELECT COUNT(*), "public"."device_rooms"."status" FROM "public"."device_rooms" WHERE "public"."device_rooms"."tenantId" = $1 GROUP BY "public"."device_rooms"."status" OFFSET $2
prisma:query SELECT COUNT(*) FROM (SELECT "public"."campaigns"."id" FROM "public"."campaigns" WHERE ("public"."campaigns"."tenantId" = $1 AND "public"."campaigns"."status" = CAST($2::text AS "public"."CampaignStatus")) OFFSET $3) AS "sub"
2025-09-11T01:49:50.196Z GET /api/v1/admin/orders
prisma:query SELECT "public"."Order"."id", "public"."Order"."tenantId", "public"."Order"."roomId", "public"."Order"."placeId", "public"."Order"."status", "public"."Order"."items", "public"."Order"."total", "public"."Order"."createdAt", "public"."Order"."updatedAt", "public"."Order"."paidAt", "public"."Order"."isDeleted", "public"."Order"."deletedAt", "public"."Order"."uuid", "public"."Order"."sessionId" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) ORDER BY "public"."Order"."createdAt" DESC LIMIT $4 OFFSET $5
2025-09-11T01:49:50.200Z GET /api/v1/admin/orders/monthly-count
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Order"."id" FROM "public"."Order" WHERE ("public"."Order"."tenantId" = $1 AND "public"."Order"."isDeleted" = $2 AND "public"."Order"."status" = $3) OFFSET $4) AS "sub"
prisma:query 
      SELECT 
        DATE_TRUNC('month', "createdAt") as month,
        COUNT(*) as order_count,
        SUM("total") as total_revenue,
        AVG("total") as average_order_value
      FROM "Order"
      WHERE "tenantId" = $1
        AND "createdAt" >= $2
        AND "isDeleted" = false
      GROUP BY DATE_TRUNC('month', "createdAt")
      ORDER BY month DESC
    
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-11T01:54:26.359Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T01:54:26.381Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-11T01:54:26.393Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T01:54:26.398Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-11T01:54:26.404Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
2025-09-11T01:54:37.826Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T01:54:37.829Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
ğŸ” Health check started (1/4 systems connected)
Connection test failed for hotel-saas: HTTP error: 503
ğŸ“Š Health check completed (0/4 systems connected)
2025-09-11T01:55:46.028Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T01:55:46.062Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
ğŸ” Health check started (0/4 systems connected)
ğŸ“Š Health check completed (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
2025-09-11T01:59:41.696Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T01:59:41.706Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
ğŸ” Health check started (1/4 systems connected)
ğŸ“Š Health check completed (0/4 systems connected)
2025-09-11T02:01:34.490Z POST /api/v1/auth/login
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T02:01:34.524Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
2025-09-11T02:02:29.790Z POST /api/v1/auth/login
prisma:query SELECT 1
prisma:query SELECT "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted" FROM "public"."staff" WHERE ("public"."staff"."email" = $1 AND "public"."staff"."is_active" = $2 AND "public"."staff"."is_deleted" = $3) OFFSET $4
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."name", "public"."Tenant"."domain", "public"."Tenant"."contactEmail", "public"."Tenant"."createdAt", "public"."Tenant"."deleted_at", "public"."Tenant"."deleted_by", "public"."Tenant"."features", "public"."Tenant"."is_deleted", "public"."Tenant"."planType", "public"."Tenant"."settings", "public"."Tenant"."status" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."staff" SET "last_login_at" = $1 WHERE ("public"."staff"."id" = $2 AND 1=1) RETURNING "public"."staff"."id", "public"."staff"."tenant_id", "public"."staff"."email", "public"."staff"."name", "public"."staff"."role", "public"."staff"."department", "public"."staff"."is_active", "public"."staff"."created_at", "public"."staff"."updated_at", "public"."staff"."failed_login_count", "public"."staff"."last_login_at", "public"."staff"."locked_until", "public"."staff"."password_hash", "public"."staff"."deleted_at", "public"."staff"."deleted_by", "public"."staff"."is_deleted"
[32m[2025-09-11T02:02:29.796Z] INFO[0m [hotel-common] [tenant:default]: ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ
ğŸ” Health check started (0/4 systems connected)
ğŸ“Š Health check completed (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
ğŸ” Health check started (1/4 systems connected)
hotel-commonçµ±åˆAPIã‚µãƒ¼ãƒãƒ¼åœæ­¢ä¸­...
hotel-commonçµ±åˆAPIã‚µãƒ¼ãƒãƒ¼åœæ­¢å®Œäº†
